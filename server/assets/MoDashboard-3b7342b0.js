var vt=Object.defineProperty;var Vt=(re,ne,oe)=>ne in re?vt(re,ne,{enumerable:!0,configurable:!0,writable:!0,value:oe}):re[ne]=oe;var _t=(re,ne,oe)=>(Vt(re,typeof ne!="symbol"?ne+"":ne,oe),oe);import{s as store,a as storage,_ as __vitePreload}from"./index-75ca187d.js";import{_ as _sfc_main$l,a as _export_sfc,s as service,b as systemService}from"./system-service-33d97fa2.js";const _withScopeId=re=>(Vue.pushScopeId("data-v-bf20938e"),re=re(),Vue.popScopeId(),re),_hoisted_1$7={class:"w-full h-full flex items-center justify-between"},_hoisted_2$7=_withScopeId(()=>Vue.createElementVNode("div",{class:"text-xl mx-3 select-none"},"MOSSM",-1)),_sfc_main$k=Vue.defineComponent({__name:"MoNavbar",setup(re){const ne=()=>Vue.h(_sfc_main$l,{iconName:"brightness-high-fill",fill:"#606266"}),oe=()=>Vue.h(_sfc_main$l,{iconName:"moon-fill",fill:"#cfd3dc"}),ie=Vue.ref(),ae=Vue.ref(store.theme==="dark"),le=Vue.inject("changePage",()=>{throw new Error("找不到changePage方法")});function se(){const de=document.createElement("style");de.innerHTML="* { transition: none !important; }",document.head.appendChild(de);const pe=he=>{he.propertyName==="background-color"&&he.target instanceof HTMLElement&&he.target.className==="el-switch__core"&&(document.head.removeChild(de),ie.value.removeEventListener("transitionend",pe))};ie.value.addEventListener("transitionend",pe),store.theme=ae.value?"dark":"light"}function ce(){ElementPlus.ElMessageBox.confirm("确定要退出吗?","系统提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{storage.remove("token"),le(__vitePreload(()=>import("./Login-7410b23b.js"),["./Login-7410b23b.js","./index-75ca187d.js","./index-3c2ebff5.css","./system-service-33d97fa2.js","./Login-78492ff7.css"],import.meta.url))}).catch(()=>"cancel")}return(de,pe)=>{const he=Vue.resolveComponent("el-switch");return Vue.openBlock(),Vue.createElementBlock("div",_hoisted_1$7,[_hoisted_2$7,Vue.createElementVNode("div",{ref_key:"divRef",ref:ie,class:"flex items-center gap-1"},[Vue.createVNode(he,{modelValue:Vue.unref(ae),"onUpdate:modelValue":pe[0]||(pe[0]=ue=>Vue.isRef(ae)?ae.value=ue:null),onChange:se,"active-action-icon":oe,"inactive-action-icon":ne},null,8,["modelValue"]),Vue.createVNode(_sfc_main$l,{class:"p-3.75 hover:bg-mask-1 hover:cursor-pointer","icon-name":"box-arrow-right",width:"20px",height:"20px",onClick:ce})],512)])}}}),MoNavbar_vue_vue_type_style_index_0_scoped_bf20938e_lang="",MoNavbar=_export_sfc(_sfc_main$k,[["__scopeId","data-v-bf20938e"]]),_sfc_main$j=Vue.defineComponent({__name:"MoForm",props:{components:{},data:{},primaryKey:{},inline:{type:Boolean},rules:{},size:{},labelWidth:{},watch:{},initData:{type:Function}},setup(re,{expose:ne}){var ue;const oe=re,ie=Vue.ref(),ae=Vue.computed(()=>oe.primaryKey??"_id"),le=Vue.ref({}),se=Vue.computed(()=>{const fe={};for(const _e in le.value){const ge=le.value[_e];ge!=null&&(fe[_e]=he(ge))}return fe});(ue=oe.watch)==null||ue.forEach(fe=>Vue.watchEffect(()=>fe(le))),Vue.watchEffect(()=>{var _e;const fe={[ae.value]:((_e=oe.data)==null?void 0:_e[ae.value])??""};if(oe.data)oe.components.forEach(ge=>{let be=oe.data[ge.name];ge.type==="select"&&ge.multiple||ge.type==="time"&&ge.isRange?fe[ge.name]=typeof be=="string"?be?be.split(","):[]:be:ge.type==="switch"?fe[ge.name]=typeof be=="string"?be==="true":be:fe[ge.name]=he(be)});else if(oe.initData){const ge=typeof oe.initData=="function"?oe.initData():oe.initData;oe.components.forEach(be=>{let we=ge[be.name];"multiple"in be&&be.multiple?fe[be.name]=typeof we=="string"?we.split(","):we:fe[be.name]=he(we)})}else oe.components.forEach(ge=>fe[ge.name]="");le.value=fe});const ce=(()=>{const fe=new Map;return _e=>{if(typeof _e!="function")return _e;if(!fe.has(_e)){const ge=Vue.reactive([]),be={value:!0};fe.set(_e,ge),Vue.watchEffect(async()=>{if(be.value){const we=_e(le,be),Ce=await Promise.resolve(we);ge.splice(0),ge.push(...Ce)}})}return fe.get(_e)}})(),de=(()=>{const fe=new Map;return _e=>{if(_e===void 0||typeof _e=="object")return[_e];if(!fe.has(_e)){const ge=Vue.reactive([void 0]),be={value:!0};fe.set(_e,ge),Vue.watchEffect(async()=>{if(be.value){const we=_e(le,be);ge[0]=await Promise.resolve(we)}})}return fe.get(_e)}})();function pe(fe){return typeof fe=="number"?`${fe}px`:fe}function he(fe){return fe==null?"":fe instanceof Array?fe.map(he).join(","):fe instanceof Date?fe.toISOString():fe.toString()}return ne({getPrimaryKey:()=>ae.value,getFormData:()=>se.value,validate:fe=>ie.value.validate(fe),clearValidate:fe=>ie.value.clearValidate(fe)}),(fe,_e)=>{const ge=Vue.resolveComponent("el-input"),be=Vue.resolveComponent("el-option"),we=Vue.resolveComponent("el-select"),Ce=Vue.resolveComponent("el-switch"),Re=Vue.resolveComponent("el-time-picker"),ke=Vue.resolveComponent("el-date-picker"),xe=Vue.resolveComponent("el-form-item"),Te=Vue.resolveComponent("el-form");return Vue.openBlock(),Vue.createBlock(Te,{ref_key:"formRef",ref:ie,model:Vue.unref(le),inline:oe.inline,rules:oe.rules,size:oe.size,"label-width":oe.labelWidth},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(oe.components,me=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[me.name!==Vue.unref(ae)?Vue.withDirectives((Vue.openBlock(),Vue.createBlock(xe,{key:0,prop:me.name,label:me.label},{default:Vue.withCtx(()=>[me.type==="input"?(Vue.openBlock(),Vue.createBlock(ge,{key:0,modelValue:Vue.unref(le)[me.name],"onUpdate:modelValue":ve=>Vue.unref(le)[me.name]=ve,size:me.size,style:Vue.normalizeStyle(me.width?`width: ${pe(me.width)}`:""),placeholder:me.placeholder,disabled:me.disabled&&me.disabled(Vue.unref(se))},null,8,["modelValue","onUpdate:modelValue","size","style","placeholder","disabled"])):me.type==="textarea"?(Vue.openBlock(),Vue.createBlock(ge,{key:1,modelValue:Vue.unref(le)[me.name],"onUpdate:modelValue":ve=>Vue.unref(le)[me.name]=ve,type:"textarea",rows:me.rows,size:me.size,style:Vue.normalizeStyle(me.width?`width: ${pe(me.width)}`:""),placeholder:me.placeholder,disabled:me.disabled&&me.disabled(Vue.unref(se))},null,8,["modelValue","onUpdate:modelValue","rows","size","style","placeholder","disabled"])):me.type==="select"?(Vue.openBlock(),Vue.createBlock(we,{key:2,modelValue:Vue.unref(le)[me.name],"onUpdate:modelValue":ve=>Vue.unref(le)[me.name]=ve,multiple:me.multiple,size:me.size,style:Vue.normalizeStyle(me.width?`width: ${pe(me.width)}`:""),placeholder:me.placeholder,loading:Vue.unref(ce)(me.options).length<=0,clearable:"",disabled:me.disabled&&me.disabled(Vue.unref(se))},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(ce)(me.options),(ve,Ve)=>(Vue.openBlock(),Vue.createBlock(be,{key:Ve,value:ve.value,label:ve.label},null,8,["value","label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","multiple","size","style","placeholder","loading","disabled"])):me.type==="switch"?(Vue.openBlock(),Vue.createBlock(Ce,{key:3,modelValue:Vue.unref(le)[me.name],"onUpdate:modelValue":ve=>Vue.unref(le)[me.name]=ve,"active-text":me.activeText,"inactive-text":me.inactiveText,size:me.size,disabled:me.disabled&&me.disabled(Vue.unref(se))},null,8,["modelValue","onUpdate:modelValue","active-text","inactive-text","size","disabled"])):me.type==="time"?(Vue.openBlock(),Vue.createBlock(Re,{key:4,modelValue:Vue.unref(le)[me.name],"onUpdate:modelValue":ve=>Vue.unref(le)[me.name]=ve,"is-range":me.isRange,size:me.size,style:Vue.normalizeStyle(me.width?`width: ${pe(me.width)}`:""),placeholder:me.placeholder,disabled:me.disabled&&me.disabled(Vue.unref(se))},null,8,["modelValue","onUpdate:modelValue","is-range","size","style","placeholder","disabled"])):me.type==="year"||me.type==="month"||me.type==="date"||me.type==="datetime"||me.type==="week"?(Vue.openBlock(),Vue.createBlock(ke,{key:5,modelValue:Vue.unref(le)[me.name],"onUpdate:modelValue":ve=>Vue.unref(le)[me.name]=ve,type:me.type,format:me.format,size:me.size,style:Vue.normalizeStyle(me.width?`width: ${pe(me.width)}`:""),placeholder:me.placeholder,disabled:me.disabled&&me.disabled(Vue.unref(se))},null,8,["modelValue","onUpdate:modelValue","type","format","size","style","placeholder","disabled"])):me.type==="custom"?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(me.component),{key:6,modelValue:Vue.unref(le)[me.name],"onUpdate:modelValue":ve=>Vue.unref(le)[me.name]=ve,params:Vue.unref(de)(me.params)[0],size:me.size,width:me.width,height:me.height,placeholder:me.placeholder,disabled:me.disabled&&me.disabled(Vue.unref(se))},null,8,["modelValue","onUpdate:modelValue","params","size","width","height","placeholder","disabled"])):Vue.createCommentVNode("",!0)]),_:2},1032,["prop","label"])),[[Vue.vShow,!me.visible||me.visible(Vue.unref(se))]]):Vue.createCommentVNode("",!0)],64))),256)),fe.$slots.default?(Vue.openBlock(),Vue.createBlock(xe,{key:0},{default:Vue.withCtx(()=>[Vue.renderSlot(fe.$slots,"default")]),_:3})):Vue.createCommentVNode("",!0)]),_:3},8,["model","inline","rules","size","label-width"])}}}),_sfc_main$i=Vue.defineComponent({__name:"MoSearch",props:{components:{},size:{},watch:{}},emits:["search"],setup(re,{emit:ne}){const oe=re,ie=Vue.ref();return(ae,le)=>{const se=Vue.resolveComponent("el-button");return Vue.openBlock(),Vue.createBlock(_sfc_main$j,{ref_key:"moFormRef",ref:ie,inline:"",components:oe.components,size:oe.size,watch:oe.watch},{default:Vue.withCtx(()=>[Vue.createVNode(se,{type:"primary",onClick:le[0]||(le[0]=()=>ne("search",Vue.unref(ie).getFormData()))},{default:Vue.withCtx(()=>[Vue.createTextVNode("搜索")]),_:1})]),_:1},8,["components","size","watch"])}}}),MoSearch_vue_vue_type_style_index_0_scoped_afc1e5e1_lang="",MoSearch=_export_sfc(_sfc_main$i,[["__scopeId","data-v-afc1e5e1"]]),_hoisted_1$6={class:"flex items-center justify-between"},_hoisted_2$6=Vue.createElementVNode("span",null,"添加",-1),_hoisted_3$4=Vue.createElementVNode("span",null,"批量删除",-1),_sfc_main$h=Vue.defineComponent({__name:"MoToolbar",props:{buttons:{},size:{}},emits:["add","deleteBatch","refresh"],setup(re,{emit:ne}){const oe=re;return(ie,ae)=>{const le=Vue.resolveComponent("el-icon"),se=Vue.resolveComponent("el-button");return Vue.openBlock(),Vue.createElementBlock("div",_hoisted_1$6,[Vue.createElementVNode("div",null,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(oe.buttons,ce=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[ce==="add"?(Vue.openBlock(),Vue.createBlock(se,{key:0,type:"primary",size:oe.size,onClick:ae[0]||(ae[0]=de=>ne("add"))},{icon:Vue.withCtx(()=>[Vue.createVNode(le,null,{default:Vue.withCtx(()=>[Vue.createVNode(_sfc_main$l,{"icon-name":"plus-lg"})]),_:1})]),default:Vue.withCtx(()=>[_hoisted_2$6]),_:1},8,["size"])):ce==="deleteBatch"?(Vue.openBlock(),Vue.createBlock(se,{key:1,type:"danger",size:oe.size,onClick:ae[1]||(ae[1]=de=>ne("deleteBatch"))},{icon:Vue.withCtx(()=>[Vue.createVNode(le,null,{default:Vue.withCtx(()=>[Vue.createVNode(_sfc_main$l,{"icon-name":"trash3"})]),_:1})]),default:Vue.withCtx(()=>[_hoisted_3$4]),_:1},8,["size"])):Vue.createCommentVNode("",!0)],64))),256))]),Vue.createVNode(se,{size:oe.size,title:"刷新",circle:"",onClick:ae[2]||(ae[2]=ce=>ne("refresh"))},{icon:Vue.withCtx(()=>[Vue.createVNode(le,null,{default:Vue.withCtx(()=>[Vue.createVNode(_sfc_main$l,{"icon-name":"arrow-clockwise"})]),_:1})]),_:1},8,["size"])])}}}),_sfc_main$g=Vue.defineComponent({__name:"MoTable",props:{data:{},columns:{},operations:{default:()=>["edit","delete"]},align:{},headerAlign:{}},emits:["edit","delete"],setup(re,{expose:ne,emit:oe}){const ie=re,ae=Vue.ref();return ne({getSelectionRows:()=>{const le=ae.value;return le?le.getSelectionRows().map(se=>({...se})):[]}}),(le,se)=>{const ce=Vue.resolveComponent("el-table-column"),de=Vue.resolveComponent("el-icon"),pe=Vue.resolveComponent("el-table");return Vue.openBlock(),Vue.createBlock(pe,{ref_key:"tableRef",ref:ae,data:ie.data,height:"100%",border:""},{default:Vue.withCtx(()=>{var he;return[Vue.createVNode(ce,{type:"selection",width:"55"}),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(ie.columns,ue=>(Vue.openBlock(),Vue.createBlock(ce,{key:ue.prop,prop:ue.prop,label:ue.label??ue.prop,width:ue.width,"min-width":ue.minWidth,align:ue.align??ie.align,"header-align":ue.headerAlign??ie.headerAlign,"show-overflow-tooltip":""},{default:Vue.withCtx(({row:fe})=>[Vue.createElementVNode("span",null,Vue.toDisplayString(ue.format?ue.format(fe):fe[ue.prop]),1)]),_:2},1032,["prop","label","width","min-width","align","header-align"]))),128)),(he=ie.operations)!=null&&he.length?(Vue.openBlock(),Vue.createBlock(ce,{key:0,label:"操作",align:ie.headerAlign,width:"100"},{default:Vue.withCtx(({row:ue})=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(ie.operations,fe=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[fe==="edit"?(Vue.openBlock(),Vue.createBlock(de,{key:0,class:"hover:cursor-pointer hover:color-primary mr-2",onClick:_e=>oe("edit",{...ue})},{default:Vue.withCtx(()=>[Vue.createVNode(_sfc_main$l,{"icon-name":"pencil-square"})]),_:2},1032,["onClick"])):fe==="delete"?(Vue.openBlock(),Vue.createBlock(de,{key:1,class:"hover:cursor-pointer hover:color-primary mr-2",onClick:_e=>oe("delete",{...ue})},{default:Vue.withCtx(()=>[Vue.createVNode(_sfc_main$l,{"icon-name":"trash3"})]),_:2},1032,["onClick"])):Vue.createCommentVNode("",!0)],64))),256))]),_:1},8,["align"])):Vue.createCommentVNode("",!0)]}),_:1},8,["data"])}}}),_sfc_main$f=Vue.defineComponent({__name:"MoPagination",props:{page:{},limit:{},total:{}},emits:["change","sizeChange"],setup(re,{emit:ne}){const oe=re;return(ie,ae)=>{const le=Vue.resolveComponent("el-pagination");return Vue.openBlock(),Vue.createBlock(le,{class:"pb-2.5",layout:"prev, pager, next, jumper, sizes, total","current-page":oe.page,"page-size":oe.limit,total:oe.total,onCurrentChange:ae[0]||(ae[0]=se=>ne("change",se)),onSizeChange:ae[1]||(ae[1]=se=>ne("sizeChange",se))},null,8,["current-page","page-size","total"])}}}),_sfc_main$e=Vue.defineComponent({__name:"MoEditDialog",props:Vue.mergeModels({config:{},params:{}},{modelValue:{type:Boolean,required:!0}}),emits:Vue.mergeModels(["cancel","confirm"],["update:modelValue"]),setup(re,{emit:ne}){const oe=re,ie=Vue.ref(),ae=Vue.useModel(re,"modelValue"),le=Vue.computed(()=>{const de=ie.value;if(de){const pe=de.getPrimaryKey();return de.getFormData()[pe]?"编辑":"添加"}return""}),se=Vue.ref();Vue.watchEffect(()=>{oe.params.data&&(se.value=oe.params.data)});const ce=()=>{const de=ie.value;de&&de.validate(pe=>{if(pe){const he=de.getPrimaryKey(),ue=de.getFormData(),fe=ue[he]?"update":"add";pe&&ne("confirm",fe,ue)}})};return(de,pe)=>{const he=Vue.resolveComponent("el-button"),ue=Vue.resolveComponent("el-dialog");return Vue.openBlock(),Vue.createBlock(ue,{"modal-class":"mo-edit-dialog",modelValue:ae.value,"onUpdate:modelValue":pe[1]||(pe[1]=fe=>ae.value=fe),title:Vue.unref(le),width:oe.config.width,onOpen:pe[2]||(pe[2]=()=>{var fe;return(fe=Vue.unref(ie))==null?void 0:fe.clearValidate()}),onClosed:pe[3]||(pe[3]=()=>typeof Vue.unref(se)>"u"?se.value=null:se.value=void 0)},{footer:Vue.withCtx(()=>[Vue.createVNode(he,{onClick:pe[0]||(pe[0]=fe=>ne("cancel"))},{default:Vue.withCtx(()=>[Vue.createTextVNode("取消")]),_:1}),Vue.createVNode(he,{type:"primary",onClick:ce},{default:Vue.withCtx(()=>[Vue.createTextVNode("确定")]),_:1})]),default:Vue.withCtx(()=>[Vue.createVNode(_sfc_main$j,{ref_key:"moFormRef",ref:ie,data:Vue.unref(se),components:oe.config.components,primaryKey:oe.config.primaryKey,rules:oe.config.rules,size:oe.config.size,labelWidth:oe.config.labelWidth,watch:oe.config.watch,initData:oe.config.initData},null,8,["data","components","primaryKey","rules","size","labelWidth","watch","initData"])]),_:1},8,["modelValue","title","width"])}}}),MoEditDialog_vue_vue_type_style_index_0_lang="",_sfc_main$d=Vue.defineComponent({__name:"MoGrid",props:{table:{},toolbar:{},search:{},pagination:{},editDialog:{},api:{}},setup(re){var Te;const ne=re,oe=Vue.computed(()=>({add:()=>{throw ElementPlus.ElMessage({message:"未配置api的add方法",type:"error"}),new Error("未配置api的add方法")},remove:()=>{throw ElementPlus.ElMessage({message:"未配置api的remove方法",type:"error"}),new Error("未配置api的remove方法")},removeBatch:()=>{throw ElementPlus.ElMessage({message:"未配置api的removeBatch方法",type:"error"}),new Error("未配置api的removeBatch方法")},update:()=>{throw ElementPlus.ElMessage({message:"未配置api的update方法",type:"error"}),new Error("未配置api的update方法")},...ne.api})),ie=Vue.ref(),ae=Vue.ref(),le=Vue.ref([]),se=Vue.ref(1),ce=Vue.ref(((Te=ne.pagination)==null?void 0:Te.limit)??10),de=Vue.ref(0),pe=Vue.ref(!1),he=Vue.ref({}),ue=Vue.ref(!1),fe=async me=>{se.value=1,ae.value=me,ke(me)},_e=me=>{ElementPlus.ElMessageBox.confirm("确定要删除吗?","系统提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>ue.value=!0).then(async()=>{try{await oe.value.remove(me)}catch(ve){window.process.env.VUE_APP_ENV!=="production"&&console.error(ve),ElementPlus.ElMessage({message:"删除失败！",type:"error"});return}ElementPlus.ElMessage({message:"删除成功！",type:"success"}),await ke(!0)}).catch(()=>"cancel").finally(()=>ue.value=!1)},ge=async()=>{const me=ie.value;me&&ElementPlus.ElMessageBox.confirm("确定要批量删除选择项吗?","系统提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>ue.value=!0).then(async()=>{const ve=me.getSelectionRows();if(ve.length<=0)ElementPlus.ElMessage({message:"至少选择一项!",type:"warning"});else{try{await oe.value.removeBatch(ve)}catch(Ve){window.process.env.VUE_APP_ENV!=="production"&&console.error(Ve),ElementPlus.ElMessage({message:"批量删除失败！",type:"error"});return}ElementPlus.ElMessage({message:"批量删除成功！",type:"success"}),await ke(!0)}}).catch(()=>"cancel").finally(()=>ue.value=!1)},be=me=>xe({...me}),we=me=>{se.value=me,ke(!0)},Ce=me=>{ce.value=me,ke(!0)},Re=async(me,ve)=>{ue.value=!0;try{await oe.value[me](ve),ElementPlus.ElMessage({message:`${me==="add"?"添加":"更新"}成功！`,type:"success"}),me==="add"&&(se.value=1),await ke(!0),pe.value=!1}catch(Ve){window.process.env.VUE_APP_ENV!=="production"&&console.error(Ve),ElementPlus.ElMessage({message:`${me==="add"?"添加":"更新"}失败！`,type:"error"})}finally{ue.value=!1}};async function ke(me){ue.value=!0,typeof me=="boolean"&&(me=me?ae.value:void 0);try{const{list:ve,total:Ve}=await oe.value.list({searchData:me,page:se.value,limit:ce.value});le.value=ve,de.value=Ve}catch(ve){window.process.env.VUE_APP_ENV!=="production"&&console.error(ve),ElementPlus.ElMessage({message:"加载数据失败！",type:"error"})}finally{ue.value=!1}}function xe(me){if(!ne.editDialog)throw ElementPlus.ElMessage({message:"未配置编辑弹窗",type:"error"}),new Error("未配置编辑弹窗");he.value={data:me},pe.value=!0}return(async()=>(se.value=1,ke()))(),(me,ve)=>{const Ve=Vue.resolveComponent("el-divider"),Ae=Vue.resolveComponent("el-header"),Be=Vue.resolveComponent("el-main"),Me=Vue.resolveComponent("el-footer"),Se=Vue.resolveComponent("el-container"),$e=Vue.resolveDirective("loading");return Vue.withDirectives((Vue.openBlock(),Vue.createBlock(Se,{class:"h-full"},{default:Vue.withCtx(()=>[ne.search?(Vue.openBlock(),Vue.createBlock(Ae,{key:0,class:"h-auto"},{default:Vue.withCtx(()=>[Vue.createVNode(MoSearch,Vue.mergeProps(ne.search,{onSearch:fe}),null,16),Vue.createVNode(Ve,{class:"m0"})]),_:1})):Vue.createCommentVNode("",!0),Vue.createVNode(Se,null,{default:Vue.withCtx(()=>[ne.toolbar?(Vue.openBlock(),Vue.createBlock(Ae,{key:0,class:"h-auto pt-3"},{default:Vue.withCtx(()=>[Vue.createVNode(_sfc_main$h,Vue.mergeProps(ne.toolbar,{onAdd:xe,onDeleteBatch:ge,onRefresh:ve[0]||(ve[0]=Le=>ke(!0))}),null,16)]),_:1})):Vue.createCommentVNode("",!0),Vue.createVNode(Be,{class:"pt-3 h-0"},{default:Vue.withCtx(()=>[Vue.createVNode(_sfc_main$g,Vue.mergeProps({ref_key:"moTableRef",ref:ie},ne.table,{data:Vue.unref(le),onEdit:be,onDelete:_e}),null,16,["data"])]),_:1}),Vue.createVNode(Me,{class:"h-auto"},{default:Vue.withCtx(()=>[Vue.createVNode(_sfc_main$f,{page:Vue.unref(se),limit:Vue.unref(ce),total:Vue.unref(de),onChange:we,onSizeChange:Ce},null,8,["page","limit","total"])]),_:1})]),_:1}),ne.editDialog?(Vue.openBlock(),Vue.createBlock(_sfc_main$e,{key:1,modelValue:Vue.unref(pe),"onUpdate:modelValue":ve[1]||(ve[1]=Le=>Vue.isRef(pe)?pe.value=Le:null),config:ne.editDialog,params:Vue.unref(he),onCancel:ve[2]||(ve[2]=()=>pe.value=!1),onConfirm:Re},null,8,["modelValue","config","params"])):Vue.createCommentVNode("",!0)]),_:1})),[[$e,Vue.unref(ue)]])}}}),MoGrid_vue_vue_type_style_index_0_scoped_56666bf8_lang="",MoGrid=_export_sfc(_sfc_main$d,[["__scopeId","data-v-56666bf8"]]);var e,t,n,r,i,o,s=globalThis,a={},u={},l=s.parcelRequire048a;l==null&&((l=function(re){if(re in a)return a[re].exports;if(re in u){var ne=u[re];delete u[re];var oe={id:re,exports:{}};return a[re]=oe,ne.call(oe.exports,oe,oe.exports),oe.exports}var ie=Error("Cannot find module '"+re+"'");throw ie.code="MODULE_NOT_FOUND",ie}).register=function(re,ne){u[re]=ne},s.parcelRequire048a=l),(0,l.register)("fcGo5",function(re,ne){re.exports=function(oe){oe.prototype[Symbol.iterator]=function*(){for(let ie=this.head;ie;ie=ie.next)yield ie.value}}});var c={};Object.defineProperty(c,"__esModule",{value:!0});var h={};Object.defineProperty(h,"__esModule",{value:!0});var f={};async function p(re){return new Promise((ne,oe)=>{let{log:ie,warn:ae,error:le}=console;f({instantiateWasm:(se,ce)=>(WebAssembly.instantiate(re,se).then(de=>{ce(de.instance)}).catch(de=>{throw de}),{})}).then(se=>{h.onigasmH=se,ne()}),typeof print<"u"&&(console.log=ie,console.error=le,console.warn=ae)})}typeof document<"u"&&document.currentScript&&document.currentScript.src,f=function(re){var ne,oe,ie,ae,le,se,ce,de,pe,he,ue=(re=re||{})!==void 0?re:{},fe={};for(oe in ue)ue.hasOwnProperty(oe)&&(fe[oe]=ue[oe]);ie=function(Ee){var Pe;return typeof readbuffer=="function"?new Uint8Array(readbuffer(Ee)):(Ce(typeof(Pe=read(Ee,"binary"))=="object"),Pe)},typeof scriptArgs<"u"&&scriptArgs,typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print);var _e=ue.print||console.log.bind(console),ge=ue.printErr||console.warn.bind(console);for(oe in fe)fe.hasOwnProperty(oe)&&(ue[oe]=fe[oe]);fe=null,ue.arguments&&ue.arguments,ue.thisProgram&&ue.thisProgram,ue.quit&&ue.quit,ue.wasmBinary&&(ae=ue.wasmBinary),ue.noExitRuntime&&ue.noExitRuntime,typeof WebAssembly!="object"&&ge("no native wasm support detected");var be=new WebAssembly.Table({initial:244,maximum:244,element:"anyfunc"}),we=!1;function Ce(Ee,Pe){Ee||Le("Assertion failed: "+Pe)}var Re=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ke(Ee,Pe,Ie){for(var De=Pe+Ie,Ue=Pe;Ee[Ue]&&!(Ue>=De);)++Ue;if(Ue-Pe>16&&Ee.subarray&&Re)return Re.decode(Ee.subarray(Pe,Ue));for(var je="";Pe<Ue;){var ze=Ee[Pe++];if(128&ze){var Ke=63&Ee[Pe++];if((224&ze)!=192){var He=63&Ee[Pe++];if((ze=(240&ze)==224?(15&ze)<<12|Ke<<6|He:(7&ze)<<18|Ke<<12|He<<6|63&Ee[Pe++])<65536)je+=String.fromCharCode(ze);else{var qe=ze-65536;je+=String.fromCharCode(55296|qe>>10,56320|1023&qe)}}else je+=String.fromCharCode((31&ze)<<6|Ke)}else je+=String.fromCharCode(ze)}return je}function xe(Ee,Pe){return Ee%Pe>0&&(Ee+=Pe-Ee%Pe),Ee}function Te(Ee){se=Ee,ue.HEAP8=ce=new Int8Array(Ee),ue.HEAP16=new Int16Array(Ee),ue.HEAP32=pe=new Int32Array(Ee),ue.HEAPU8=de=new Uint8Array(Ee),ue.HEAPU16=new Uint16Array(Ee),ue.HEAPU32=new Uint32Array(Ee),ue.HEAPF32=new Float32Array(Ee),ue.HEAPF64=new Float64Array(Ee)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");var me=ue.TOTAL_MEMORY||157286400;function ve(Ee){for(;Ee.length>0;){var Pe=Ee.shift();if(typeof Pe!="function"){var Ie=Pe.func;typeof Ie=="number"?Pe.arg===void 0?ue.dynCall_v(Ie):ue.dynCall_vi(Ie,Pe.arg):Ie(Pe.arg===void 0?null:Pe.arg)}else Pe()}}(le=ue.wasmMemory?ue.wasmMemory:new WebAssembly.Memory({initial:me/65536}))&&(se=le.buffer),me=se.byteLength,Te(se),pe[66156]=5507664;var Ve=[],Ae=[],Be=[],Me=[],Se=0,$e=null;function Le(Ee){throw ue.onAbort&&ue.onAbort(Ee),_e(Ee+=""),ge(Ee),we=!0,Ee="abort("+Ee+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(Ee)}ue.preloadedImages={},ue.preloadedAudios={};var Ne="data:application/octet-stream;base64,";function ye(Ee){return String.prototype.startsWith?Ee.startsWith(Ne):Ee.indexOf(Ne)===0}var Oe="onigasm.wasm";ye(Oe)||(ne=Oe,Oe=ue.locateFile?ue.locateFile(ne,""):""+ne),Ae.push({func:function(){it()}});var Ge={buffers:[null,[],[]],printChar:function(Ee,Pe){var Ie=Ge.buffers[Ee];Pe===0||Pe===10?((Ee===1?_e:ge)(ke(Ie,0)),Ie.length=0):Ie.push(Pe)},varargs:0,get:function(Ee){return Ge.varargs+=4,pe[Ge.varargs-4>>2]},getStr:function(){var Ee;return(Ee=Ge.get())?ke(de,Ee,void 0):""},get64:function(){var Ee=Ge.get();return Ge.get(),Ee},getZero:function(){Ge.get()}},Ze={abort:function(){Le()},emscripten_get_sbrk_ptr:function(){return 264624},emscripten_memcpy_big:function(Ee,Pe,Ie){de.set(de.subarray(Pe,Pe+Ie),Ee)},emscripten_resize_heap:function(Ee){var Pe=ce.length;if(Ee>2147418112)return!1;for(var Ie=Math.max(Pe,16777216);Ie<Ee;)Ie=Ie<=536870912?xe(2*Ie,65536):Math.min(xe((3*Ie+2147483648)/4,65536),2147418112);return!!function(De){try{return le.grow(De-se.byteLength+65535>>16),Te(le.buffer),1}catch{}}(Ie)},fd_close:function(Ee){try{return 0}catch(Pe){return typeof FS<"u"&&Pe instanceof FS.ErrnoError||Le(Pe),Pe.errno}},fd_seek:function(Ee,Pe,Ie,De,Ue){try{return 0}catch(je){return typeof FS<"u"&&je instanceof FS.ErrnoError||Le(je),je.errno}},fd_write:function(Ee,Pe,Ie,De){try{for(var Ue=0,je=0;je<Ie;je++){for(var ze=pe[Pe+8*je>>2],Ke=pe[Pe+(8*je+4)>>2],He=0;He<Ke;He++)Ge.printChar(Ee,de[ze+He]);Ue+=Ke}return pe[De>>2]=Ue,0}catch(qe){return typeof FS<"u"&&qe instanceof FS.ErrnoError||Le(qe),qe.errno}},memory:le,setTempRet0:function(Ee){},table:be},nt=function(){var Ee={env:Ze,wasi_unstable:Ze};function Pe(Ue,je){var ze=Ue.exports;ue.asm=ze,function(Ke){if(Se--,ue.monitorRunDependencies&&ue.monitorRunDependencies(Se),Se==0&&$e){var He=$e;$e=null,He()}}()}function Ie(Ue){Pe(Ue.instance)}function De(Ue){return new Promise(function(je,ze){je(function(){try{if(ae)return new Uint8Array(ae);if(ie)return ie(Oe);throw"both async and sync fetching of the wasm failed"}catch(Ke){Le(Ke)}}())}).then(function(je){return WebAssembly.instantiate(je,Ee)}).then(Ue,function(je){ge("failed to asynchronously prepare wasm: "+je),Le(je)})}if(Se++,ue.monitorRunDependencies&&ue.monitorRunDependencies(Se),ue.instantiateWasm)try{return ue.instantiateWasm(Ee,Pe)}catch(Ue){return ge("Module.instantiateWasm callback failed with error: "+Ue),!1}return function(){if(ae||typeof WebAssembly.instantiateStreaming!="function"||ye(Oe)||typeof fetch!="function")return De(Ie);fetch(Oe,{credentials:"same-origin"}).then(function(Ue){return WebAssembly.instantiateStreaming(Ue,Ee).then(Ie,function(je){ge("wasm streaming compile failed: "+je),ge("falling back to ArrayBuffer instantiation"),De(Ie)})})}(),{}}();ue.asm=nt;var it=ue.___wasm_call_ctors=function(){return ue.asm.__wasm_call_ctors.apply(null,arguments)};ue._malloc=function(){return ue.asm.malloc.apply(null,arguments)},ue._free=function(){return ue.asm.free.apply(null,arguments)},ue._getLastError=function(){return ue.asm.getLastError.apply(null,arguments)},ue._compilePattern=function(){return ue.asm.compilePattern.apply(null,arguments)},ue._disposeCompiledPatterns=function(){return ue.asm.disposeCompiledPatterns.apply(null,arguments)},ue._findBestMatch=function(){return ue.asm.findBestMatch.apply(null,arguments)},ue.___cxa_demangle=function(){return ue.asm.__cxa_demangle.apply(null,arguments)},ue._setThrew=function(){return ue.asm.setThrew.apply(null,arguments)};var ct=ue.stackSave=function(){return ue.asm.stackSave.apply(null,arguments)},st=ue.stackAlloc=function(){return ue.asm.stackAlloc.apply(null,arguments)},rt=ue.stackRestore=function(){return ue.asm.stackRestore.apply(null,arguments)};function ot(Ee){function Pe(){!he&&(he=!0,we||(ve(Ae),ve(Be),ue.onRuntimeInitialized&&ue.onRuntimeInitialized(),function(){if(ue.postRun)for(typeof ue.postRun=="function"&&(ue.postRun=[ue.postRun]);ue.postRun.length;){var Ie;Ie=ue.postRun.shift(),Me.unshift(Ie)}ve(Me)}()))}!(Se>0)&&(function(){if(ue.preRun)for(typeof ue.preRun=="function"&&(ue.preRun=[ue.preRun]);ue.preRun.length;){var Ie;Ie=ue.preRun.shift(),Ve.unshift(Ie)}ve(Ve)}(),Se>0||(ue.setStatus?(ue.setStatus("Running..."),setTimeout(function(){setTimeout(function(){ue.setStatus("")},1),Pe()},1)):Pe()))}if(ue.__growWasmMemory=function(){return ue.asm.__growWasmMemory.apply(null,arguments)},ue.dynCall_vi=function(){return ue.asm.dynCall_vi.apply(null,arguments)},ue.dynCall_iiii=function(){return ue.asm.dynCall_iiii.apply(null,arguments)},ue.dynCall_iiiii=function(){return ue.asm.dynCall_iiiii.apply(null,arguments)},ue.dynCall_iii=function(){return ue.asm.dynCall_iii.apply(null,arguments)},ue.dynCall_iidiiii=function(){return ue.asm.dynCall_iidiiii.apply(null,arguments)},ue.dynCall_vii=function(){return ue.asm.dynCall_vii.apply(null,arguments)},ue.dynCall_ii=function(){return ue.asm.dynCall_ii.apply(null,arguments)},ue.dynCall_i=function(){return ue.asm.dynCall_i.apply(null,arguments)},ue.dynCall_v=function(){return ue.asm.dynCall_v.apply(null,arguments)},ue.dynCall_viiiiii=function(){return ue.asm.dynCall_viiiiii.apply(null,arguments)},ue.dynCall_viiiii=function(){return ue.asm.dynCall_viiiii.apply(null,arguments)},ue.dynCall_viiii=function(){return ue.asm.dynCall_viiii.apply(null,arguments)},ue.dynCall_jiji=function(){return ue.asm.dynCall_jiji.apply(null,arguments)},ue.asm=nt,ue.ccall=function(Ee,Pe,Ie,De,Ue){var je,ze,Ke={string:function(Ye){var at=0;if(Ye!=null&&Ye!==0){var ft,mt=1+(Ye.length<<2);ft=at=st(mt),function(pt,Xe,We,gt){if(gt>0){for(var lt=We+gt-1,ut=0;ut<pt.length;++ut){var Fe=pt.charCodeAt(ut);if(Fe>=55296&&Fe<=57343&&(Fe=65536+((1023&Fe)<<10)|1023&pt.charCodeAt(++ut)),Fe<=127){if(We>=lt)break;Xe[We++]=Fe}else if(Fe<=2047){if(We+1>=lt)break;Xe[We++]=192|Fe>>6,Xe[We++]=128|63&Fe}else if(Fe<=65535){if(We+2>=lt)break;Xe[We++]=224|Fe>>12,Xe[We++]=128|Fe>>6&63,Xe[We++]=128|63&Fe}else{if(We+3>=lt)break;Xe[We++]=240|Fe>>18,Xe[We++]=128|Fe>>12&63,Xe[We++]=128|Fe>>6&63,Xe[We++]=128|63&Fe}}Xe[We]=0}}(Ye,de,ft,mt)}return at},array:function(Ye){var at=st(Ye.length);return ce.set(Ye,at),at}},He=(Ce(je=ue["_"+Ee],"Cannot call unknown function "+Ee+", make sure it is exported"),je),qe=[],Qe=0;if(De)for(var Je=0;Je<De.length;Je++){var ht=Ke[Ie[Je]];ht?(Qe===0&&(Qe=ct()),qe[Je]=ht(De[Je])):qe[Je]=De[Je]}var dt=He.apply(null,qe);return ze=dt,dt=Pe==="string"?ze?ke(de,ze,void 0):"":Pe==="boolean"?!!ze:ze,Qe!==0&&rt(Qe),dt},ue.then=function(Ee){if(he)Ee(ue);else{var Pe=ue.onRuntimeInitialized;ue.onRuntimeInitialized=function(){Pe&&Pe(),Ee(ue)}}return ue},$e=function Ee(){he||ot(),he||($e=Ee)},ue.run=ot,ue.preInit)for(typeof ue.preInit=="function"&&(ue.preInit=[ue.preInit]);ue.preInit.length>0;)ue.preInit.pop()();return ot(),re};let d=!1;async function g(re){if(d)throw Error("Onigasm#init has been called and was succesful, subsequent calls are not allowed once initialized");if(typeof re=="string"){let ne=await(await fetch(re)).arrayBuffer();await p(ne)}else{if(!(re instanceof ArrayBuffer))throw TypeError("Expected a string (URL of .wasm file) or ArrayBuffer (.wasm file itself) as first parameter");await p(re)}d=!0}h.loadWASM=g,c.loadWASM=h.loadWASM;var m={};Object.defineProperty(m,"__esModule",{value:!0});var y={};Object.defineProperty(y,"__esModule",{value:!0});var v={},_={};function b(re){var ne=this;if(ne instanceof b||(ne=new b),ne.tail=null,ne.head=null,ne.length=0,re&&typeof re.forEach=="function")re.forEach(function(ae){ne.push(ae)});else if(arguments.length>0)for(var oe=0,ie=arguments.length;oe<ie;oe++)ne.push(arguments[oe]);return ne}function w(re,ne,oe,ie){if(!(this instanceof w))return new w(re,ne,oe,ie);this.list=ie,this.value=re,ne?(ne.next=this,this.prev=ne):this.prev=null,oe?(oe.prev=this,this.next=oe):this.next=null}_=b,b.Node=w,b.create=b,b.prototype.removeNode=function(re){if(re.list!==this)throw Error("removing node which does not belong to this list");var ne=re.next,oe=re.prev;return ne&&(ne.prev=oe),oe&&(oe.next=ne),re===this.head&&(this.head=ne),re===this.tail&&(this.tail=oe),re.list.length--,re.next=null,re.prev=null,re.list=null,ne},b.prototype.unshiftNode=function(re){if(re!==this.head){re.list&&re.list.removeNode(re);var ne=this.head;re.list=this,re.next=ne,ne&&(ne.prev=re),this.head=re,this.tail||(this.tail=re),this.length++}},b.prototype.pushNode=function(re){if(re!==this.tail){re.list&&re.list.removeNode(re);var ne=this.tail;re.list=this,re.prev=ne,ne&&(ne.next=re),this.tail=re,this.head||(this.head=re),this.length++}},b.prototype.push=function(){for(var re,ne=0,oe=arguments.length;ne<oe;ne++)re=arguments[ne],this.tail=new w(re,this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length},b.prototype.unshift=function(){for(var re,ne=0,oe=arguments.length;ne<oe;ne++)re=arguments[ne],this.head=new w(re,null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},b.prototype.pop=function(){if(this.tail){var re=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,re}},b.prototype.shift=function(){if(this.head){var re=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,re}},b.prototype.forEach=function(re,ne){ne=ne||this;for(var oe=this.head,ie=0;oe!==null;ie++)re.call(ne,oe.value,ie,this),oe=oe.next},b.prototype.forEachReverse=function(re,ne){ne=ne||this;for(var oe=this.tail,ie=this.length-1;oe!==null;ie--)re.call(ne,oe.value,ie,this),oe=oe.prev},b.prototype.get=function(re){for(var ne=0,oe=this.head;oe!==null&&ne<re;ne++)oe=oe.next;if(ne===re&&oe!==null)return oe.value},b.prototype.getReverse=function(re){for(var ne=0,oe=this.tail;oe!==null&&ne<re;ne++)oe=oe.prev;if(ne===re&&oe!==null)return oe.value},b.prototype.map=function(re,ne){ne=ne||this;for(var oe=new b,ie=this.head;ie!==null;)oe.push(re.call(ne,ie.value,this)),ie=ie.next;return oe},b.prototype.mapReverse=function(re,ne){ne=ne||this;for(var oe=new b,ie=this.tail;ie!==null;)oe.push(re.call(ne,ie.value,this)),ie=ie.prev;return oe},b.prototype.reduce=function(re,ne){var oe,ie=this.head;if(arguments.length>1)oe=ne;else{if(!this.head)throw TypeError("Reduce of empty list with no initial value");ie=this.head.next,oe=this.head.value}for(var ae=0;ie!==null;ae++)oe=re(oe,ie.value,ae),ie=ie.next;return oe},b.prototype.reduceReverse=function(re,ne){var oe,ie=this.tail;if(arguments.length>1)oe=ne;else{if(!this.tail)throw TypeError("Reduce of empty list with no initial value");ie=this.tail.prev,oe=this.tail.value}for(var ae=this.length-1;ie!==null;ae--)oe=re(oe,ie.value,ae),ie=ie.prev;return oe},b.prototype.toArray=function(){for(var re=Array(this.length),ne=0,oe=this.head;oe!==null;ne++)re[ne]=oe.value,oe=oe.next;return re},b.prototype.toArrayReverse=function(){for(var re=Array(this.length),ne=0,oe=this.tail;oe!==null;ne++)re[ne]=oe.value,oe=oe.prev;return re},b.prototype.slice=function(re,ne){(ne=ne||this.length)<0&&(ne+=this.length),(re=re||0)<0&&(re+=this.length);var oe=new b;if(ne<re||ne<0)return oe;re<0&&(re=0),ne>this.length&&(ne=this.length);for(var ie=0,ae=this.head;ae!==null&&ie<re;ie++)ae=ae.next;for(;ae!==null&&ie<ne;ie++,ae=ae.next)oe.push(ae.value);return oe},b.prototype.sliceReverse=function(re,ne){(ne=ne||this.length)<0&&(ne+=this.length),(re=re||0)<0&&(re+=this.length);var oe=new b;if(ne<re||ne<0)return oe;re<0&&(re=0),ne>this.length&&(ne=this.length);for(var ie=this.length,ae=this.tail;ae!==null&&ie>ne;ie--)ae=ae.prev;for(;ae!==null&&ie>re;ie--,ae=ae.prev)oe.push(ae.value);return oe},b.prototype.splice=function(re,ne){re>this.length&&(re=this.length-1),re<0&&(re=this.length+re);for(var oe=0,ie=this.head;ie!==null&&oe<re;oe++)ie=ie.next;var ae=[];for(oe=0;ie&&oe<ne;oe++)ae.push(ie.value),ie=this.removeNode(ie);for(ie===null&&(ie=this.tail),ie!==this.head&&ie!==this.tail&&(ie=ie.prev),oe=2;oe<arguments.length;oe++)ie=function(le,se,ce){var de=se===le.head?new w(ce,null,se,le):new w(ce,se,se.next,le);return de.next===null&&(le.tail=de),de.prev===null&&(le.head=de),le.length++,de}(this,ie,arguments[oe]);return ae},b.prototype.reverse=function(){for(var re=this.head,ne=this.tail,oe=re;oe!==null;oe=oe.prev){var ie=oe.prev;oe.prev=oe.next,oe.next=ie}return this.head=ne,this.tail=re,this};try{l("fcGo5")(b)}catch{}const A=Symbol("max"),S=Symbol("length"),C=Symbol("lengthCalculator"),k=Symbol("allowStale"),x=Symbol("maxAge"),R=Symbol("dispose"),T=Symbol("noDisposeOnSet"),E=Symbol("lruList"),P=Symbol("cache"),I=Symbol("updateAgeOnGet"),M=()=>1,O=(re,ne,oe)=>{let ie=re[P].get(ne);if(ie){let ae=ie.value;if(N(re,ae)){if(G(re,ie),!re[k])return}else oe&&(re[I]&&(ie.value.now=Date.now()),re[E].unshiftNode(ie));return ae.value}},N=(re,ne)=>{if(!ne||!ne.maxAge&&!re[x])return!1;let oe=Date.now()-ne.now;return ne.maxAge?oe>ne.maxAge:re[x]&&oe>re[x]},L=re=>{if(re[S]>re[A])for(let ne=re[E].tail;re[S]>re[A]&&ne!==null;){let oe=ne.prev;G(re,ne),ne=oe}},G=(re,ne)=>{if(ne){let oe=ne.value;re[R]&&re[R](oe.key,oe.value),re[S]-=oe.length,re[P].delete(oe.key),re[E].removeNode(ne)}};class D{constructor(ne,oe,ie,ae,le){this.key=ne,this.value=oe,this.length=ie,this.now=ae,this.maxAge=le||0}}const j=(re,ne,oe,ie)=>{let ae=oe.value;N(re,ae)&&(G(re,oe),re[k]||(ae=void 0)),ae&&ne.call(ie,ae.value,ae.key,re)};v=class{constructor(re){if(typeof re=="number"&&(re={max:re}),re||(re={}),re.max&&(typeof re.max!="number"||re.max<0))throw TypeError("max must be a non-negative number");this[A]=re.max||1/0;let ne=re.length||M;if(this[C]=typeof ne!="function"?M:ne,this[k]=re.stale||!1,re.maxAge&&typeof re.maxAge!="number")throw TypeError("maxAge must be a number");this[x]=re.maxAge||0,this[R]=re.dispose,this[T]=re.noDisposeOnSet||!1,this[I]=re.updateAgeOnGet||!1,this.reset()}set max(re){if(typeof re!="number"||re<0)throw TypeError("max must be a non-negative number");this[A]=re||1/0,L(this)}get max(){return this[A]}set allowStale(re){this[k]=!!re}get allowStale(){return this[k]}set maxAge(re){if(typeof re!="number")throw TypeError("maxAge must be a non-negative number");this[x]=re,L(this)}get maxAge(){return this[x]}set lengthCalculator(re){typeof re!="function"&&(re=M),re!==this[C]&&(this[C]=re,this[S]=0,this[E].forEach(ne=>{ne.length=this[C](ne.value,ne.key),this[S]+=ne.length})),L(this)}get lengthCalculator(){return this[C]}get length(){return this[S]}get itemCount(){return this[E].length}rforEach(re,ne){ne=ne||this;for(let oe=this[E].tail;oe!==null;){let ie=oe.prev;j(this,re,oe,ne),oe=ie}}forEach(re,ne){ne=ne||this;for(let oe=this[E].head;oe!==null;){let ie=oe.next;j(this,re,oe,ne),oe=ie}}keys(){return this[E].toArray().map(re=>re.key)}values(){return this[E].toArray().map(re=>re.value)}reset(){this[R]&&this[E]&&this[E].length&&this[E].forEach(re=>this[R](re.key,re.value)),this[P]=new Map,this[E]=new _,this[S]=0}dump(){return this[E].map(re=>!N(this,re)&&{k:re.key,v:re.value,e:re.now+(re.maxAge||0)}).toArray().filter(re=>re)}dumpLru(){return this[E]}set(re,ne,oe){if((oe=oe||this[x])&&typeof oe!="number")throw TypeError("maxAge must be a number");let ie=oe?Date.now():0,ae=this[C](ne,re);if(this[P].has(re)){if(ae>this[A])return G(this,this[P].get(re)),!1;let se=this[P].get(re).value;return this[R]&&!this[T]&&this[R](re,se.value),se.now=ie,se.maxAge=oe,se.value=ne,this[S]+=ae-se.length,se.length=ae,this.get(re),L(this),!0}let le=new D(re,ne,ae,ie,oe);return le.length>this[A]?(this[R]&&this[R](re,ne),!1):(this[S]+=le.length,this[E].unshift(le),this[P].set(re,this[E].head),L(this),!0)}has(re){if(!this[P].has(re))return!1;let ne=this[P].get(re).value;return!N(this,ne)}get(re){return O(this,re,!0)}peek(re){return O(this,re,!1)}pop(){let re=this[E].tail;return re?(G(this,re),re.value):null}del(re){G(this,this[P].get(re))}load(re){this.reset();let ne=Date.now();for(let oe=re.length-1;oe>=0;oe--){let ie=re[oe],ae=ie.e||0;if(ae===0)this.set(ie.k,ie.v);else{let le=ae-ne;le>0&&this.set(ie.k,ie.v,le)}}}prune(){this[P].forEach((re,ne)=>O(this,ne,!1))}};var B={};function U(re){let ne=h.onigasmH._malloc(re.utf8Bytes.length);return h.onigasmH.HEAPU8.set(re.utf8Bytes,ne),ne}function F(re){let ne=[],oe=0;for(;h.onigasmH.HEAPU8[re]!==0;)ne[oe++]=h.onigasmH.HEAPU8[re++];return ne.join()}Object.defineProperty(B,"__esModule",{value:!0}),B.default=class{constructor(re){if(this.substring=(ne,oe)=>this.source.substring(ne,oe),this.toString=(ne,oe)=>this.source,typeof re!="string")throw TypeError("Argument must be a string");this.source=re,this._utf8Bytes=null,this._utf8Indexes=null}get utf8Bytes(){return this._utf8Bytes||this.encode(),this._utf8Bytes}get utf8Indexes(){return this._utf8Bytes||this.encode(),this._utf8Indexes}get content(){return this.source}get length(){return this.source.length}get hasMultiByteCharacters(){return this.utf8Indexes!==null}convertUtf8OffsetToUtf16(re){if(re<0)return 0;if(re>=this._utf8Bytes.length-1)return this.source.length;let ne=this.utf8Indexes;return ne&&re>=this._mappingTableStartOffset?function(oe,ie){let ae=0,le=oe.length;if(le===0)return 0;for(;ae<le;){let se=Math.floor((ae+le)/2);oe[se]>=ie?le=se:ae=se+1}for(;ae>0&&(ae>=oe.length||oe[ae]>ie);)ae--;return ae>0&&oe[ae]===oe[ae-1]&&ae--,ae}(ne,re-this._mappingTableStartOffset)+this._mappingTableStartOffset:re}convertUtf16OffsetToUtf8(re){if(re<0)return 0;let ne=this._utf8Bytes;if(re>=this.source.length)return ne.length-1;let oe=this.utf8Indexes;return oe&&re>=this._mappingTableStartOffset?oe[re-this._mappingTableStartOffset]+this._mappingTableStartOffset:re}encode(){let re,ne=this.source,oe=ne.length,ie=0,ae=0;function le(he){let ue=3*(oe-he);re=ue<=255?new Uint8Array(oe-he):ue<=65535?new Uint16Array(oe-he):new Uint32Array(oe-he),ae=he,re[ie++]=0}let se=new Uint8Array(3*oe+1),ce=0,de=0;for(;de<ne.length;){let he,ue,fe,_e=ne.charCodeAt(de);if(re&&(re[ie++]=ce-ae),_e<55296||_e>57343)he=_e;else if(_e>=56320)he=65533;else if(de===oe-1)he=65533;else{let ge=ne.charCodeAt(de+1);56320<=ge&&ge<=57343?(re||le(de),he=65536+((1023&_e)<<10)+(1023&ge),de+=1,re[ie++]=ce-ae):he=65533}if(he<=127?(ue=1,fe=0):he<=2047?(ue=2,fe=192):he<=65535?(ue=3,fe=224):(ue=4,fe=240),ue===1)se[ce++]=he;else for(re||le(ce),se[ce++]=(he>>6*--ue)+fe;ue>0;){let ge=he>>6*(ue-1);se[ce++]=128|63&ge,ue-=1}de+=1}let pe=se.slice(0,ce+1);pe[ce]=0,this._utf8Bytes=pe,re&&(this._utf8Indexes=re,this._mappingTableStartOffset=ae)}};const W=new v({dispose:(re,ne)=>{let oe=h.onigasmH._malloc(ne.regexTPtrs.length);if(h.onigasmH.HEAPU8.set(ne.regexTPtrs,oe),h.onigasmH._disposeCompiledPatterns(oe,re.patterns.length)!==0){let ie=F(h.onigasmH._getLastError());throw Error(ie)}h.onigasmH._free(oe)},max:1e3});class H{constructor(ne){if(h.onigasmH===null)throw Error("Onigasm has not been initialized, call loadWASM from 'onigasm' exports before using any other API");for(let oe=0;oe<ne.length;oe++)if(typeof ne[oe]!="string")throw TypeError("First parameter to OnigScanner constructor must be array of (pattern) strings");this.sources=ne.slice()}get patterns(){return this.sources.slice()}findNextMatch(ne,oe,ie){oe==null&&(oe=0),typeof oe=="function"&&(ie=oe,oe=0);try{ie(null,this.findNextMatchSync(ne,oe))}catch(ae){ie(ae)}}findNextMatchSync(ne,oe){oe==null&&(oe=0),oe=this.convertToNumber(oe);let ie=W.get(this);if(!ie){let ue=h.onigasmH._malloc(4),fe=[];for(let _e=0;_e<this.sources.length;_e++){let ge=this.sources[_e],be=U(new B.default(ge));if(h.onigasmH._compilePattern(be,ue)!==0){let Ce=F(h.onigasmH._getLastError());throw Error(Ce)}let we=h.onigasmH.HEAP32[ue/4];fe.push(we),h.onigasmH._free(be)}ie={regexTPtrs:new Uint8Array(Uint32Array.from(fe).buffer)},h.onigasmH._free(ue),W.set(this,ie)}let ae=ne instanceof B.default?ne:new B.default(this.convertToString(ne)),le=U(ae),se=h.onigasmH._malloc(8),ce=h.onigasmH._malloc(ie.regexTPtrs.length);if(h.onigasmH.HEAPU8.set(ie.regexTPtrs,ce),h.onigasmH._findBestMatch(ce,this.sources.length,le,ae.utf8Bytes.length-1,ae.convertUtf16OffsetToUtf8(oe),se)!==0){let ue=F(h.onigasmH._getLastError());throw Error(ue)}let[de,pe,he]=new Uint32Array(h.onigasmH.HEAPU32.buffer,se,3);if(h.onigasmH._free(le),h.onigasmH._free(se),h.onigasmH._free(ce),he>0){let ue=new Uint32Array(h.onigasmH.HEAPU32.buffer,pe,he),fe=[],_e=0,ge=0;for(;_e<he;){let be=ge++,we=ue[_e++],Ce=ue[_e++];ae.hasMultiByteCharacters&&(we=ae.convertUtf8OffsetToUtf16(we),Ce=ae.convertUtf8OffsetToUtf16(Ce)),fe.push({end:Ce,index:be,length:Ce-we,start:we})}return h.onigasmH._free(pe),{captureIndices:fe,index:de,scanner:this}}return null}convertToString(ne){return ne===void 0?"undefined":ne===null?"null":ne instanceof B.default?ne.content:ne.toString()}convertToNumber(ne){return isFinite(ne=parseInt(ne,10))||(ne=0),Math.max(ne,0)}}y.OnigScanner=H,y.default=H,m.default=class{constructor(re){this.source=re;try{this.scanner=new y.default([this.source])}catch{}}searchSync(re,ne){let oe;return ne==null&&(ne=0),oe=this.scanner.findNextMatchSync(re,ne),this.captureIndicesForMatch(re,oe)}search(re,ne,oe){ne==null&&(ne=0),typeof ne=="function"&&(oe=ne,ne=0);try{oe(null,this.searchSync(re,ne))}catch(ie){oe(ie)}}testSync(re){return typeof this.source=="boolean"||typeof re=="boolean"?this.source===re:this.searchSync(re)!=null}test(re,ne){typeof ne!="function"&&(ne=()=>{});try{ne(null,this.testSync(re))}catch(oe){ne(oe)}}captureIndicesForMatch(re,ne){if(ne==null)return null;{let oe,{captureIndices:ie}=ne;re=this.scanner.convertToString(re);for(let ae=0;ae<ie.length;ae++)(oe=ie[ae]).match=re.slice(oe.start,oe.end);return ie}}},c.OnigRegExp=m.default,c.OnigScanner=y.default,c.OnigString=B.default;var $={},z=$&&$.__awaiter||function(re,ne,oe,ie){return new(oe||(oe=Promise))(function(ae,le){function se(pe){try{de(ie.next(pe))}catch(he){le(he)}}function ce(pe){try{de(ie.throw(pe))}catch(he){le(he)}}function de(pe){pe.done?ae(pe.value):new oe(function(he){he(pe.value)}).then(se,ce)}de((ie=ie.apply(re,ne||[])).next())})},q=$&&$.__generator||function(re,ne){var oe,ie,ae,le,se={label:0,sent:function(){if(1&ae[0])throw ae[1];return ae[1]},trys:[],ops:[]};return le={next:ce(0),throw:ce(1),return:ce(2)},typeof Symbol=="function"&&(le[Symbol.iterator]=function(){return this}),le;function ce(de){return function(pe){return function(he){if(oe)throw TypeError("Generator is already executing.");for(;se;)try{if(oe=1,ie&&(ae=2&he[0]?ie.return:he[0]?ie.throw||((ae=ie.return)&&ae.call(ie),0):ie.next)&&!(ae=ae.call(ie,he[1])).done)return ae;switch(ie=0,ae&&(he=[2&he[0],ae.value]),he[0]){case 0:case 1:ae=he;break;case 4:return se.label++,{value:he[1],done:!1};case 5:se.label++,ie=he[1],he=[0];continue;case 7:he=se.ops.pop(),se.trys.pop();continue;default:if(!(ae=(ae=se.trys).length>0&&ae[ae.length-1])&&(he[0]===6||he[0]===2)){se=0;continue}if(he[0]===3&&(!ae||he[1]>ae[0]&&he[1]<ae[3])){se.label=he[1];break}if(he[0]===6&&se.label<ae[1]){se.label=ae[1],ae=he;break}if(ae&&se.label<ae[2]){se.label=ae[2],se.ops.push(he);break}ae[2]&&se.ops.pop(),se.trys.pop();continue}he=ne.call(re,se)}catch(ue){he=[6,ue],ie=0}finally{oe=ae=0}if(5&he[0])throw he[1];return{value:he[0]?he[1]:void 0,done:!0}}([de,pe])}}};Object.defineProperty($,"__esModule",{value:!0});var Q={};Object.defineProperty(Q,"__esModule",{value:!0});var J={};Object.defineProperty(J,"__esModule",{value:!0});var X={};Object.defineProperty(X,"__esModule",{value:!0}),X.clone=function(re){return function ne(oe){return Array.isArray(oe)?function(ie){for(var ae=[],le=0,se=ie.length;le<se;le++)ae[le]=ne(ie[le]);return ae}(oe):typeof oe=="object"?function(ie){var ae={};for(var le in ie)ae[le]=ne(ie[le]);return ae}(oe):oe}(re)},X.mergeObjects=function(re){for(var ne=[],oe=1;oe<arguments.length;oe++)ne[oe-1]=arguments[oe];return ne.forEach(function(ie){for(var ae in ie)re[ae]=ie[ae]}),re};var Y=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,K=function(){function re(){}return re.hasCaptures=function(ne){return Y.test(ne)},re.replaceCaptures=function(ne,oe,ie){return ne.replace(Y,function(ae,le,se,ce){var de=ie[parseInt(le||se,10)];if(!de)return ae;for(var pe=oe.substring(de.start,de.end);pe[0]===".";)pe=pe.substring(1);switch(ce){case"downcase":return pe.toLowerCase();case"upcase":return pe.toUpperCase();default:return pe}})},re}();X.RegexSource=K;var V={},Z=V&&V.__extends||(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,ne){re.__proto__=ne}||function(re,ne){for(var oe in ne)ne.hasOwnProperty(oe)&&(re[oe]=ne[oe])},function(re,ne){function oe(){this.constructor=re}e(re,ne),re.prototype=ne===null?Object.create(ne):(oe.prototype=ne.prototype,new oe)});Object.defineProperty(V,"__esModule",{value:!0});var ee={},et={},en=et={};function er(){throw Error("setTimeout has not been defined")}function ei(){throw Error("clearTimeout has not been defined")}function eo(re){if(t===setTimeout)return setTimeout(re,0);if((t===er||!t)&&setTimeout)return t=setTimeout,setTimeout(re,0);try{return t(re,0)}catch{try{return t.call(null,re,0)}catch{return t.call(this,re,0)}}}(function(){try{t=typeof setTimeout=="function"?setTimeout:er}catch{t=er}try{n=typeof clearTimeout=="function"?clearTimeout:ei}catch{n=ei}})();var es=[],ea=!1,eu=-1;function el(){ea&&r&&(ea=!1,r.length?es=r.concat(es):eu=-1,es.length&&ec())}function ec(){if(!ea){var re=eo(el);ea=!0;for(var ne=es.length;ne;){for(r=es,es=[];++eu<ne;)r&&r[eu].run();eu=-1,ne=es.length}r=null,ea=!1,function(oe){if(n===clearTimeout)return clearTimeout(oe);if((n===ei||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(oe);try{n(oe)}catch{try{return n.call(null,oe)}catch{return n.call(this,oe)}}}(re)}}function eh(re,ne){this.fun=re,this.array=ne}function ef(){}function ep(re){if(typeof re!="string")throw TypeError("Path must be a string. Received "+JSON.stringify(re))}function ed(re,ne){for(var oe,ie="",ae=0,le=-1,se=0,ce=0;ce<=re.length;++ce){if(ce<re.length)oe=re.charCodeAt(ce);else{if(oe===47)break;oe=47}if(oe===47){if(!(le===ce-1||se===1))if(le!==ce-1&&se===2){if(ie.length<2||ae!==2||ie.charCodeAt(ie.length-1)!==46||ie.charCodeAt(ie.length-2)!==46){if(ie.length>2){var de=ie.lastIndexOf("/");if(de!==ie.length-1){de===-1?(ie="",ae=0):ae=(ie=ie.slice(0,de)).length-1-ie.lastIndexOf("/"),le=ce,se=0;continue}}else if(ie.length===2||ie.length===1){ie="",ae=0,le=ce,se=0;continue}}ne&&(ie.length>0?ie+="/..":ie="..",ae=2)}else ie.length>0?ie+="/"+re.slice(le+1,ce):ie=re.slice(le+1,ce),ae=ce-le-1;le=ce,se=0}else oe===46&&se!==-1?++se:se=-1}return ie}en.nextTick=function(re){var ne=Array(arguments.length-1);if(arguments.length>1)for(var oe=1;oe<arguments.length;oe++)ne[oe-1]=arguments[oe];es.push(new eh(re,ne)),es.length!==1||ea||eo(ec)},eh.prototype.run=function(){this.fun.apply(null,this.array)},en.title="browser",en.browser=!0,en.env={},en.argv=[],en.version="",en.versions={},en.on=ef,en.addListener=ef,en.once=ef,en.off=ef,en.removeListener=ef,en.removeAllListeners=ef,en.emit=ef,en.prependListener=ef,en.prependOnceListener=ef,en.listeners=function(re){return[]},en.binding=function(re){throw Error("process.binding is not supported")},en.cwd=function(){return"/"},en.chdir=function(re){throw Error("process.chdir is not supported")},en.umask=function(){return 0};var eg={resolve:function(){for(var re,ne,oe="",ie=!1,ae=arguments.length-1;ae>=-1&&!ie;ae--)ae>=0?ne=arguments[ae]:(re===void 0&&(re=et.cwd()),ne=re),ep(ne),ne.length!==0&&(oe=ne+"/"+oe,ie=ne.charCodeAt(0)===47);return oe=ed(oe,!ie),ie?oe.length>0?"/"+oe:"/":oe.length>0?oe:"."},normalize:function(re){if(ep(re),re.length===0)return".";var ne=re.charCodeAt(0)===47,oe=re.charCodeAt(re.length-1)===47;return(re=ed(re,!ne)).length!==0||ne||(re="."),re.length>0&&oe&&(re+="/"),ne?"/"+re:re},isAbsolute:function(re){return ep(re),re.length>0&&re.charCodeAt(0)===47},join:function(){if(arguments.length==0)return".";for(var re,ne=0;ne<arguments.length;++ne){var oe=arguments[ne];ep(oe),oe.length>0&&(re===void 0?re=oe:re+="/"+oe)}return re===void 0?".":eg.normalize(re)},relative:function(re,ne){if(ep(re),ep(ne),re===ne||(re=eg.resolve(re))===(ne=eg.resolve(ne)))return"";for(var oe=1;oe<re.length&&re.charCodeAt(oe)===47;++oe);for(var ie=re.length,ae=ie-oe,le=1;le<ne.length&&ne.charCodeAt(le)===47;++le);for(var se=ne.length-le,ce=ae<se?ae:se,de=-1,pe=0;pe<=ce;++pe){if(pe===ce){if(se>ce){if(ne.charCodeAt(le+pe)===47)return ne.slice(le+pe+1);if(pe===0)return ne.slice(le+pe)}else ae>ce&&(re.charCodeAt(oe+pe)===47?de=pe:pe===0&&(de=0));break}var he=re.charCodeAt(oe+pe);if(he!==ne.charCodeAt(le+pe))break;he===47&&(de=pe)}var ue="";for(pe=oe+de+1;pe<=ie;++pe)(pe===ie||re.charCodeAt(pe)===47)&&(ue.length===0?ue+="..":ue+="/..");return ue.length>0?ue+ne.slice(le+de):(le+=de,ne.charCodeAt(le)===47&&++le,ne.slice(le))},_makeLong:function(re){return re},dirname:function(re){if(ep(re),re.length===0)return".";for(var ne=re.charCodeAt(0),oe=ne===47,ie=-1,ae=!0,le=re.length-1;le>=1;--le)if((ne=re.charCodeAt(le))===47){if(!ae){ie=le;break}}else ae=!1;return ie===-1?oe?"/":".":oe&&ie===1?"//":re.slice(0,ie)},basename:function(re,ne){if(ne!==void 0&&typeof ne!="string")throw TypeError('"ext" argument must be a string');ep(re);var oe,ie=0,ae=-1,le=!0;if(ne!==void 0&&ne.length>0&&ne.length<=re.length){if(ne.length===re.length&&ne===re)return"";var se=ne.length-1,ce=-1;for(oe=re.length-1;oe>=0;--oe){var de=re.charCodeAt(oe);if(de===47){if(!le){ie=oe+1;break}}else ce===-1&&(le=!1,ce=oe+1),se>=0&&(de===ne.charCodeAt(se)?--se==-1&&(ae=oe):(se=-1,ae=ce))}return ie===ae?ae=ce:ae===-1&&(ae=re.length),re.slice(ie,ae)}for(oe=re.length-1;oe>=0;--oe)if(re.charCodeAt(oe)===47){if(!le){ie=oe+1;break}}else ae===-1&&(le=!1,ae=oe+1);return ae===-1?"":re.slice(ie,ae)},extname:function(re){ep(re);for(var ne=-1,oe=0,ie=-1,ae=!0,le=0,se=re.length-1;se>=0;--se){var ce=re.charCodeAt(se);if(ce!==47)ie===-1&&(ae=!1,ie=se+1),ce===46?ne===-1?ne=se:le!==1&&(le=1):ne!==-1&&(le=-1);else if(!ae){oe=se+1;break}}return ne===-1||ie===-1||le===0||le===1&&ne===ie-1&&ne===oe+1?"":re.slice(ne,ie)},format:function(re){var ne,oe;if(re===null||typeof re!="object")throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof re);return ne=re.dir||re.root,oe=re.base||(re.name||"")+(re.ext||""),ne?ne===re.root?ne+oe:ne+"/"+oe:oe},parse:function(re){ep(re);var ne,oe={root:"",dir:"",base:"",ext:"",name:""};if(re.length===0)return oe;var ie=re.charCodeAt(0),ae=ie===47;ae?(oe.root="/",ne=1):ne=0;for(var le=-1,se=0,ce=-1,de=!0,pe=re.length-1,he=0;pe>=ne;--pe)if((ie=re.charCodeAt(pe))!==47)ce===-1&&(de=!1,ce=pe+1),ie===46?le===-1?le=pe:he!==1&&(he=1):le!==-1&&(he=-1);else if(!de){se=pe+1;break}return le===-1||ce===-1||he===0||he===1&&le===ce-1&&le===se+1?ce!==-1&&(oe.base=oe.name=se===0&&ae?re.slice(1,ce):re.slice(se,ce)):(se===0&&ae?(oe.name=re.slice(1,le),oe.base=re.slice(1,ce)):(oe.name=re.slice(se,le),oe.base=re.slice(se,ce)),oe.ext=re.slice(le,ce)),se>0?oe.dir=re.slice(0,se-1):ae&&(oe.dir="/"),oe},sep:"/",delimiter:":",win32:null,posix:null};eg.posix=eg,ee=eg;var em=/\\(\d+)/,ey=/\\(\d+)/g,ev=function(){function re(ne,oe,ie,ae){this.$location=ne,this.id=oe,this._name=ie||null,this._nameIsCapturing=X.RegexSource.hasCaptures(this._name),this._contentName=ae||null,this._contentNameIsCapturing=X.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(re.prototype,"debugName",{get:function(){return this.constructor.name+"#"+this.id+" @ "+ee.basename(this.$location.filename)+":"+this.$location.line},enumerable:!0,configurable:!0}),re.prototype.getName=function(ne,oe){return this._nameIsCapturing?X.RegexSource.replaceCaptures(this._name,ne,oe):this._name},re.prototype.getContentName=function(ne,oe){return this._contentNameIsCapturing?X.RegexSource.replaceCaptures(this._contentName,ne,oe):this._contentName},re.prototype.collectPatternsRecursive=function(ne,oe,ie){throw Error("Implement me!")},re.prototype.compile=function(ne,oe,ie,ae){throw Error("Implement me!")},re}();V.Rule=ev;var e_=function(re){function ne(oe,ie,ae,le,se){var ce=re.call(this,oe,ie,ae,le)||this;return ce.retokenizeCapturedWithRuleId=se,ce}return Z(ne,re),ne}(ev);V.CaptureRule=e_;var eb=function(){function re(ne,oe,ie){ie===void 0&&(ie=!0),ie?this._handleAnchors(ne):(this.source=ne,this.hasAnchor=!1),this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()),this.ruleId=oe,this.hasBackReferences=em.test(this.source)}return re.prototype.clone=function(){return new re(this.source,this.ruleId,!0)},re.prototype.setSource=function(ne){this.source!==ne&&(this.source=ne,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},re.prototype._handleAnchors=function(ne){if(ne){var oe,ie=void 0,ae=void 0,le=0,se=[],ce=!1;for(ie=0,oe=ne.length;ie<oe;ie++)ne.charAt(ie)==="\\"&&ie+1<oe&&((ae=ne.charAt(ie+1))==="z"?(se.push(ne.substring(le,ie)),se.push("$(?!\\n)(?<!\\n)"),le=ie+2):(ae==="A"||ae==="G")&&(ce=!0),ie++);this.hasAnchor=ce,le===0?this.source=ne:(se.push(ne.substring(le,oe)),this.source=se.join(""))}else this.hasAnchor=!1,this.source=ne},re.prototype.resolveBackReferences=function(ne,oe){var ie=oe.map(function(ae){return ne.substring(ae.start,ae.end)});return ey.lastIndex=0,this.source.replace(ey,function(ae,le){return(ie[parseInt(le,10)]||"").replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")})},re.prototype._buildAnchorCache=function(){var ne,oe,ie,ae,le=[],se=[],ce=[],de=[];for(ne=0,oe=this.source.length;ne<oe;ne++)ie=this.source.charAt(ne),le[ne]=ie,se[ne]=ie,ce[ne]=ie,de[ne]=ie,ie==="\\"&&ne+1<oe&&((ae=this.source.charAt(ne+1))==="A"?(le[ne+1]="￿",se[ne+1]="￿",ce[ne+1]="A",de[ne+1]="A"):ae==="G"?(le[ne+1]="￿",se[ne+1]="G",ce[ne+1]="￿",de[ne+1]="G"):(le[ne+1]=ae,se[ne+1]=ae,ce[ne+1]=ae,de[ne+1]=ae),ne++);return{A0_G0:le.join(""),A0_G1:se.join(""),A1_G0:ce.join(""),A1_G1:de.join("")}},re.prototype.resolveAnchors=function(ne,oe){return this.hasAnchor?ne?oe?this._anchorCache.A1_G1:this._anchorCache.A1_G0:oe?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},re}();function ew(re){return new c.OnigScanner(re)}V.RegExpSource=eb,V.createOnigString=function(re){var ne=new c.OnigString(re);return ne.$str=re,ne},V.getString=function(re){return re.$str};var eA=function(){function re(){this._items=[],this._hasAnchors=!1,this._cached=null,this._cachedSources=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return re.prototype.push=function(ne){this._items.push(ne),this._hasAnchors=this._hasAnchors||ne.hasAnchor},re.prototype.unshift=function(ne){this._items.unshift(ne),this._hasAnchors=this._hasAnchors||ne.hasAnchor},re.prototype.length=function(){return this._items.length},re.prototype.setSource=function(ne,oe){this._items[ne].source!==oe&&(this._cached=null,this._anchorCache.A0_G0=null,this._anchorCache.A0_G1=null,this._anchorCache.A1_G0=null,this._anchorCache.A1_G1=null,this._items[ne].setSource(oe))},re.prototype.compile=function(ne,oe,ie){if(this._hasAnchors)return this._anchorCache={A0_G0:this._anchorCache.A0_G0||(oe===!1&&ie===!1?this._resolveAnchors(oe,ie):null),A0_G1:this._anchorCache.A0_G1||(oe===!1&&ie===!0?this._resolveAnchors(oe,ie):null),A1_G0:this._anchorCache.A1_G0||(oe===!0&&ie===!1?this._resolveAnchors(oe,ie):null),A1_G1:this._anchorCache.A1_G1||(oe===!0&&ie===!0?this._resolveAnchors(oe,ie):null)},oe?ie?this._anchorCache.A1_G1:this._anchorCache.A1_G0:ie?this._anchorCache.A0_G1:this._anchorCache.A0_G0;if(!this._cached){var ae=this._items.map(function(le){return le.source});this._cached={scanner:ew(ae),rules:this._items.map(function(le){return le.ruleId}),debugRegExps:ae}}return this._cached},re.prototype._resolveAnchors=function(ne,oe){var ie=this._items.map(function(ae){return ae.resolveAnchors(ne,oe)});return{scanner:ew(ie),rules:this._items.map(function(ae){return ae.ruleId}),debugRegExps:ie}},re}();V.RegExpSourceList=eA;var eS=function(re){function ne(oe,ie,ae,le,se){var ce=re.call(this,oe,ie,ae,null)||this;return ce._match=new eb(le,ce.id),ce.captures=se,ce._cachedCompiledPatterns=null,ce}return Z(ne,re),Object.defineProperty(ne.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),ne.prototype.collectPatternsRecursive=function(oe,ie,ae){ie.push(this._match)},ne.prototype.compile=function(oe,ie,ae,le){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new eA,this.collectPatternsRecursive(oe,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(oe,ae,le)},ne}(ev);V.MatchRule=eS;var eC=function(re){function ne(oe,ie,ae,le,se){var ce=re.call(this,oe,ie,ae,le)||this;return ce.patterns=se.patterns,ce.hasMissingPatterns=se.hasMissingPatterns,ce._cachedCompiledPatterns=null,ce}return Z(ne,re),ne.prototype.collectPatternsRecursive=function(oe,ie,ae){var le,se;for(le=0,se=this.patterns.length;le<se;le++)oe.getRule(this.patterns[le]).collectPatternsRecursive(oe,ie,!1)},ne.prototype.compile=function(oe,ie,ae,le){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new eA,this.collectPatternsRecursive(oe,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(oe,ae,le)},ne}(ev);V.IncludeOnlyRule=eC;var ek=function(re){function ne(oe,ie,ae,le,se,ce,de,pe,he,ue){var fe=re.call(this,oe,ie,ae,le)||this;return fe._begin=new eb(se,fe.id),fe.beginCaptures=ce,fe._end=new eb(de,-1),fe.endHasBackReferences=fe._end.hasBackReferences,fe.endCaptures=pe,fe.applyEndPatternLast=he||!1,fe.patterns=ue.patterns,fe.hasMissingPatterns=ue.hasMissingPatterns,fe._cachedCompiledPatterns=null,fe}return Z(ne,re),Object.defineProperty(ne.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(ne.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),ne.prototype.getEndWithResolvedBackReferences=function(oe,ie){return this._end.resolveBackReferences(oe,ie)},ne.prototype.collectPatternsRecursive=function(oe,ie,ae){if(ae){var le,se=void 0;for(se=0,le=this.patterns.length;se<le;se++)oe.getRule(this.patterns[se]).collectPatternsRecursive(oe,ie,!1)}else ie.push(this._begin)},ne.prototype.compile=function(oe,ie,ae,le){var se=this._precompile(oe);return this._end.hasBackReferences&&(this.applyEndPatternLast?se.setSource(se.length()-1,ie):se.setSource(0,ie)),this._cachedCompiledPatterns.compile(oe,ae,le)},ne.prototype._precompile=function(oe){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new eA,this.collectPatternsRecursive(oe,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._cachedCompiledPatterns},ne}(ev);V.BeginEndRule=ek;var ex=function(re){function ne(oe,ie,ae,le,se,ce,de,pe,he){var ue=re.call(this,oe,ie,ae,le)||this;return ue._begin=new eb(se,ue.id),ue.beginCaptures=ce,ue.whileCaptures=pe,ue._while=new eb(de,-2),ue.whileHasBackReferences=ue._while.hasBackReferences,ue.patterns=he.patterns,ue.hasMissingPatterns=he.hasMissingPatterns,ue._cachedCompiledPatterns=null,ue._cachedCompiledWhilePatterns=null,ue}return Z(ne,re),ne.prototype.getWhileWithResolvedBackReferences=function(oe,ie){return this._while.resolveBackReferences(oe,ie)},ne.prototype.collectPatternsRecursive=function(oe,ie,ae){if(ae){var le,se=void 0;for(se=0,le=this.patterns.length;se<le;se++)oe.getRule(this.patterns[se]).collectPatternsRecursive(oe,ie,!1)}else ie.push(this._begin)},ne.prototype.compile=function(oe,ie,ae,le){return this._precompile(oe),this._cachedCompiledPatterns.compile(oe,ae,le)},ne.prototype._precompile=function(oe){this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new eA,this.collectPatternsRecursive(oe,this._cachedCompiledPatterns,!0))},ne.prototype.compileWhile=function(oe,ie,ae,le){return this._precompileWhile(oe),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,ie),this._cachedCompiledWhilePatterns.compile(oe,ae,le)},ne.prototype._precompileWhile=function(oe){this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new eA,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while))},ne}(ev);V.BeginWhileRule=ex;var eR=function(){function re(){}return re.createCaptureRule=function(ne,oe,ie,ae,le){return ne.registerRule(function(se){return new e_(oe,se,ie,ae,le)})},re.getCompiledRuleId=function(ne,oe,ie){return ne.id||oe.registerRule(function(ae){return ne.id=ae,ne.match?new eS(ne.$vscodeTextmateLocation,ne.id,ne.name,ne.match,re._compileCaptures(ne.captures,oe,ie)):ne.begin?ne.while?new ex(ne.$vscodeTextmateLocation,ne.id,ne.name,ne.contentName,ne.begin,re._compileCaptures(ne.beginCaptures||ne.captures,oe,ie),ne.while,re._compileCaptures(ne.whileCaptures||ne.captures,oe,ie),re._compilePatterns(ne.patterns,oe,ie)):new ek(ne.$vscodeTextmateLocation,ne.id,ne.name,ne.contentName,ne.begin,re._compileCaptures(ne.beginCaptures||ne.captures,oe,ie),ne.end,re._compileCaptures(ne.endCaptures||ne.captures,oe,ie),ne.applyEndPatternLast,re._compilePatterns(ne.patterns,oe,ie)):(ne.repository&&(ie=X.mergeObjects({},ie,ne.repository)),new eC(ne.$vscodeTextmateLocation,ne.id,ne.name,ne.contentName,re._compilePatterns(ne.patterns,oe,ie)))}),ne.id},re._compileCaptures=function(ne,oe,ie){var ae,le,se,ce,de=[];if(ne){for(ce in le=0,ne)ce!=="$vscodeTextmateLocation"&&(ae=parseInt(ce,10))>le&&(le=ae);for(se=0;se<=le;se++)de[se]=null;for(ce in ne)if(ce!=="$vscodeTextmateLocation"){ae=parseInt(ce,10);var pe=0;ne[ce].patterns&&(pe=re.getCompiledRuleId(ne[ce],oe,ie)),de[ae]=re.createCaptureRule(oe,ne[ce].$vscodeTextmateLocation,ne[ce].name,ne[ce].contentName,pe)}}return de},re._compilePatterns=function(ne,oe,ie){var ae,le,se,ce,de,pe,he,ue=[];if(ne)for(le=0,se=ne.length;le<se;le++){if(ce=-1,(ae=ne[le]).include)if(ae.include.charAt(0)==="#"){var fe=ie[ae.include.substr(1)];fe&&(ce=re.getCompiledRuleId(fe,oe,ie))}else if(ae.include==="$base"||ae.include==="$self")ce=re.getCompiledRuleId(ie[ae.include],oe,ie);else{var _e=null,ge=null,be=ae.include.indexOf("#");if(be>=0?(_e=ae.include.substring(0,be),ge=ae.include.substring(be+1)):_e=ae.include,de=oe.getExternalGrammar(_e,ie))if(ge){var we=de.repository[ge];we&&(ce=re.getCompiledRuleId(we,oe,de.repository))}else ce=re.getCompiledRuleId(de.repository.$self,oe,de.repository)}else ce=re.getCompiledRuleId(ae,oe,ie);if(ce!==-1){if(he=!1,((pe=oe.getRule(ce))instanceof eC||pe instanceof ek||pe instanceof ex)&&pe.hasMissingPatterns&&pe.patterns.length===0&&(he=!0),he)continue;ue.push(ce)}}return{patterns:ue,hasMissingPatterns:(ne?ne.length:0)!==ue.length}},re}();V.RuleFactory=eR;var eT={};function eE(re){return re&&re.match(/[\w\.:]+/)}Object.defineProperty(eT,"__esModule",{value:!0}),eT.createMatchers=function(re,ne){for(var oe,ie,ae=[],le=(ie=(oe=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g).exec(re),{next:function(){if(!ie)return null;var ue=ie[0];return ie=oe.exec(re),ue}}),se=le.next();se!==null;){var ce=0;if(se.length===2&&se.charAt(1)===":"){switch(se.charAt(0)){case"R":ce=1;break;case"L":ce=-1;break;default:console.log("Unknown priority "+se+" in scope selector")}se=le.next()}var de=he();if(de&&ae.push({matcher:de,priority:ce}),se!==",")break;se=le.next()}return ae;function pe(){if(se==="-"){se=le.next();var ue=pe();return function(ge){return ue&&!ue(ge)}}if(se==="("){se=le.next();var fe=function(){for(var ge=[],be=he();be&&(ge.push(be),se==="|"||se===",");){do se=le.next();while(se==="|"||se===",");be=he()}return function(we){return ge.some(function(Ce){return Ce(we)})}}();return se===")"&&(se=le.next()),fe}if(eE(se)){var _e=[];do _e.push(se),se=le.next();while(eE(se));return function(ge){return ne(_e,ge)}}return null}function he(){for(var ue=[],fe=pe();fe;)ue.push(fe),fe=pe();return function(_e){return ue.every(function(ge){return ge(_e)})}}};var eP={};function eI(re,ne){for(var oe=0,ie=ne.length;oe<ie;oe++){Array.isArray(ne[oe].patterns)&&eI(re,ne[oe].patterns);var ae=ne[oe].include;if(ae&&ae!=="$base"&&ae!=="$self"&&ae.charAt(0)!=="#"){var le=ae.indexOf("#");le>=0?re[ae.substring(0,le)]=!0:re[ae]=!0}}}function eM(re,ne){if(ne.length<re.length)return!1;var oe=0;return re.every(function(ie){for(var ae=oe;ae<ne.length;ae++)if(function(le,se){if(!le)return!1;if(le===se)return!0;var ce=se.length;return le.length>ce&&le.substr(0,ce)===se&&le[ce]==="."}(ne[ae],ie))return oe=ae+1,!0;return!1})}function eO(re,ne,oe,ie,ae){for(var le=eT.createMatchers(ne,eM),se=V.RuleFactory.getCompiledRuleId(oe,ie,ae.repository),ce=0;ce<le.length;ce++){var de=le[ce];re.push({matcher:de.matcher,ruleId:se,grammar:ae,priority:de.priority})}}Object.defineProperty(eP,"__esModule",{value:!0}),eP.CAPTURE_METADATA=et!==void 0&&!1,eP.IN_DEBUG_MODE=et!==void 0&&!1,J.createGrammar=function(re,ne,oe,ie,ae){return new eG(re,ne,oe,ie,ae)},J.collectIncludedScopes=function(re,ne){ne.patterns&&Array.isArray(ne.patterns)&&eI(re,ne.patterns),ne.repository&&function oe(ie,ae){for(var le in ae){var se=ae[le];se.patterns&&Array.isArray(se.patterns)&&eI(ie,se.patterns),se.repository&&oe(ie,se.repository)}}(re,ne.repository),delete re[ne.scopeName]};var eN=function(re,ne,oe,ie){this.scopeName=re,this.languageId=ne,this.tokenType=oe,this.themeData=ie};J.ScopeMetadata=eN;var eL=function(){function re(ne,oe,ie){if(this._initialLanguage=ne,this._themeProvider=oe,this.onDidChangeTheme(),this._embeddedLanguages=Object.create(null),ie)for(var ae=Object.keys(ie),le=0,se=ae.length;le<se;le++){var ce=ae[le],de=ie[ce];typeof de=="number"&&de!==0?this._embeddedLanguages[ce]=de:console.warn("Invalid embedded language found at scope "+ce+": <<"+de+">>")}var pe=Object.keys(this._embeddedLanguages).map(function(he){return re._escapeRegExpCharacters(he)});pe.length===0?this._embeddedLanguagesRegex=null:(pe.sort(),pe.reverse(),this._embeddedLanguagesRegex=RegExp("^(("+pe.join(")|(")+"))($|\\.)",""))}return re.prototype.onDidChangeTheme=function(){this._cache=Object.create(null),this._defaultMetaData=new eN("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},re.prototype.getDefaultMetadata=function(){return this._defaultMetaData},re._escapeRegExpCharacters=function(ne){return ne.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},re.prototype.getMetadataForScope=function(ne){if(ne===null)return re._NULL_SCOPE_METADATA;var oe=this._cache[ne];return oe||(oe=this._doGetMetadataForScope(ne),this._cache[ne]=oe),oe},re.prototype._doGetMetadataForScope=function(ne){var oe=this._scopeToLanguage(ne),ie=this._toStandardTokenType(ne),ae=this._themeProvider.themeMatch(ne);return new eN(ne,oe,ie,ae)},re.prototype._scopeToLanguage=function(ne){if(!ne||!this._embeddedLanguagesRegex)return 0;var oe=ne.match(this._embeddedLanguagesRegex);return oe&&(this._embeddedLanguages[oe[1]]||0)||0},re.prototype._toStandardTokenType=function(ne){var oe=ne.match(re.STANDARD_TOKEN_TYPE_REGEXP);if(!oe)return 0;switch(oe[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw Error("Unexpected match for standard token type!")},re._NULL_SCOPE_METADATA=new eN("",0,0,null),re.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,re}(),eG=function(){function re(ne,oe,ie,ae,le){if(this._scopeMetadataProvider=new eL(oe,le,ie),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[],this._includedGrammars={},this._grammarRepository=le,this._grammar=eD(ne,null),this._tokenTypeMatchers=[],ae)for(var se=0,ce=Object.keys(ae);se<ce.length;se++)for(var de=ce[se],pe=eT.createMatchers(de,eM),he=0;he<pe.length;he++){var ue=pe[he];this._tokenTypeMatchers.push({matcher:ue.matcher,type:ae[de]})}}return re.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},re.prototype.getMetadataForScope=function(ne){return this._scopeMetadataProvider.getMetadataForScope(ne)},re.prototype.getInjections=function(){var ne=this;if(!this._injections){this._injections=[];var oe=this._grammar.injections;if(oe)for(var ie in oe)eO(this._injections,ie,oe[ie],this,this._grammar);if(this._grammarRepository){var ae=this._grammarRepository.injections(this._grammar.scopeName);ae&&ae.forEach(function(le){var se=ne.getExternalGrammar(le);if(se){var ce=se.injectionSelector;ce&&eO(ne._injections,ce,se,ne,se)}})}this._injections.sort(function(le,se){return le.priority-se.priority})}return this._injections.length,this._injections},re.prototype.registerRule=function(ne){var oe=++this._lastRuleId,ie=ne(oe);return this._ruleId2desc[oe]=ie,ie},re.prototype.getRule=function(ne){return this._ruleId2desc[ne]},re.prototype.getExternalGrammar=function(ne,oe){if(this._includedGrammars[ne])return this._includedGrammars[ne];if(this._grammarRepository){var ie=this._grammarRepository.lookup(ne);if(ie)return this._includedGrammars[ne]=eD(ie,oe&&oe.$base),this._includedGrammars[ne]}},re.prototype.tokenizeLine=function(ne,oe){var ie=this._tokenize(ne,oe,!1);return{tokens:ie.lineTokens.getResult(ie.ruleStack,ie.lineLength),ruleStack:ie.ruleStack}},re.prototype.tokenizeLine2=function(ne,oe){var ie=this._tokenize(ne,oe,!0);return{tokens:ie.lineTokens.getBinaryResult(ie.ruleStack,ie.lineLength),ruleStack:ie.ruleStack}},re.prototype._tokenize=function(ne,oe,ie){if(this._rootId===-1&&(this._rootId=V.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),oe&&oe!==eH.NULL)ae=!1,oe.reset();else{ae=!0;var ae,le=this._scopeMetadataProvider.getDefaultMetadata(),se=le.themeData[0],ce=eF.set(0,le.languageId,le.tokenType,se.fontStyle,se.foreground,se.background),de=this.getRule(this._rootId).getName(null,null),pe=this._scopeMetadataProvider.getMetadataForScope(de),he=eW.mergeMetadata(ce,null,pe),ue=new eW(null,de,he);oe=new eH(null,this._rootId,-1,null,ue,ue)}ne+=`
`;var fe=V.createOnigString(ne),_e=V.getString(fe).length,ge=new ez(ie,ne,this._tokenTypeMatchers);return{lineLength:_e,lineTokens:ge,ruleStack:eU(this,fe,ae,0,oe,ge)}},re}();function eD(re,ne){return(re=X.clone(re)).repository=re.repository||{},re.repository.$self={$vscodeTextmateLocation:re.$vscodeTextmateLocation,patterns:re.patterns,name:re.scopeName},re.repository.$base=ne||re.repository.$self,re}function ej(re,ne,oe,ie,ae,le,se){if(le.length!==0){for(var ce=Math.min(le.length,se.length),de=[],pe=se[0].end,he=0;he<ce;he++){var ue=le[he];if(ue!==null){var fe=se[he];if(fe.length!==0){if(fe.start>pe)break;for(;de.length>0&&de[de.length-1].endPos<=fe.start;)ae.produceFromScopes(de[de.length-1].scopes,de[de.length-1].endPos),de.pop();if(de.length>0?ae.produceFromScopes(de[de.length-1].scopes,fe.start):ae.produce(ie,fe.start),ue.retokenizeCapturedWithRuleId){var _e=ue.getName(V.getString(ne),se),ge=ie.contentNameScopesList.push(re,_e),be=ue.getContentName(V.getString(ne),se),we=ge.push(re,be),Ce=ie.push(ue.retokenizeCapturedWithRuleId,fe.start,null,ge,we);eU(re,V.createOnigString(V.getString(ne).substring(0,fe.end)),oe&&fe.start===0,fe.start,Ce,ae);continue}var Re=ue.getName(V.getString(ne),se);if(Re!==null){var ke=(de.length>0?de[de.length-1].scopes:ie.contentNameScopesList).push(re,Re);de.push(new e$(ke,fe.end))}}}}for(;de.length>0;)ae.produceFromScopes(de[de.length-1].scopes,de[de.length-1].endPos),de.pop()}}function eB(re){for(var ne=[],oe=0,ie=re.rules.length;oe<ie;oe++)ne.push("   - "+re.rules[oe]+": "+re.debugRegExps[oe]);return ne.join(`
`)}function eU(re,ne,oe,ie,ae,le){var se=V.getString(ne).length,ce=!1,de=function(he,ue,fe,_e,ge,be){for(var we=-1,Ce=[],Re=ge;Re;Re=Re.pop()){var ke=Re.getRule(he);ke instanceof V.BeginWhileRule&&Ce.push({rule:ke,stack:Re})}for(var xe=Ce.pop();xe;xe=Ce.pop()){var Te=xe.rule.compileWhile(he,xe.stack.endRule,fe,we===_e),me=Te.scanner.findNextMatchSync(ue,_e);if(eP.IN_DEBUG_MODE&&(console.log("  scanning for while rule"),console.log(eB(Te))),!me){ge=xe.stack.pop();break}if(Te.rules[me.index]!==-2){ge=xe.stack.pop();break}me.captureIndices&&me.captureIndices.length&&(be.produce(xe.stack,me.captureIndices[0].start),ej(he,ue,fe,xe.stack,be,xe.rule.whileCaptures,me.captureIndices),be.produce(xe.stack,me.captureIndices[0].end),we=me.captureIndices[0].end,me.captureIndices[0].end>_e&&(_e=me.captureIndices[0].end,fe=!1))}return{stack:ge,linePos:_e,anchorPosition:we,isFirstLine:fe}}(re,ne,oe,ie,ae,le);ae=de.stack,ie=de.linePos,oe=de.isFirstLine;for(var pe=de.anchorPosition;!ce;)(function(){eP.IN_DEBUG_MODE&&(console.log(""),console.log("@@scanNext: |"+V.getString(ne).replace(/\n$/,"\\n").substr(ie)+"|"));var he=function(ve,Ve,Ae,Be,Me,Se){var $e,Le,Ne=(Le=($e=Me.getRule(ve).compile(ve,Me.endRule,Ae,Be===Se)).scanner.findNextMatchSync(Ve,Be),eP.IN_DEBUG_MODE&&(console.log("  scanning for"),console.log(eB($e))),Le?{captureIndices:Le.captureIndices,matchedRuleId:$e.rules[Le.index]}:null),ye=ve.getInjections();if(ye.length===0)return Ne;var Oe=function(nt,it,ct,st,rt,ot,Ee){for(var Pe,Ie=Number.MAX_VALUE,De=null,Ue=0,je=ot.contentNameScopesList.generateScopes(),ze=0,Ke=nt.length;ze<Ke;ze++){var He=nt[ze];if(He.matcher(je)){var qe=it.getRule(He.ruleId).compile(it,null,st,rt===Ee),Qe=qe.scanner.findNextMatchSync(ct,rt);if(eP.IN_DEBUG_MODE&&(console.log("  scanning for injections"),console.log(eB(qe))),Qe){var Je=Qe.captureIndices[0].start;if(!(Je>=Ie)&&(Ie=Je,De=Qe.captureIndices,Pe=qe.rules[Qe.index],Ue=He.priority,Ie===rt))break}}}return De?{priorityMatch:Ue===-1,captureIndices:De,matchedRuleId:Pe}:null}(ye,ve,Ve,Ae,Be,Me,Se);if(!Oe)return Ne;if(!Ne)return Oe;var Ge=Ne.captureIndices[0].start,Ze=Oe.captureIndices[0].start;return Ze<Ge||Oe.priorityMatch&&Ze===Ge?Oe:Ne}(re,ne,oe,ie,ae,pe);if(!he)return eP.IN_DEBUG_MODE&&console.log("  no more matches."),le.produce(ae,se),void(ce=!0);var ue=he.captureIndices,fe=he.matchedRuleId,_e=!!ue&&ue.length>0&&ue[0].end>ie;if(fe===-1){var ge=ae.getRule(re);eP.IN_DEBUG_MODE&&console.log("  popping "+ge.debugName+" - "+ge.debugEndRegExp),le.produce(ae,ue[0].start),ae=ae.setContentNameScopesList(ae.nameScopesList),ej(re,ne,oe,ae,le,ge.endCaptures,ue),le.produce(ae,ue[0].end);var be=ae;if(ae=ae.pop(),!_e&&be.getEnterPos()===ie)return console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),ae=be,le.produce(ae,se),void(ce=!0)}else{var we=re.getRule(fe);le.produce(ae,ue[0].start);var Ce=ae,Re=we.getName(V.getString(ne),ue),ke=ae.contentNameScopesList.push(re,Re);if(ae=ae.push(fe,ie,null,ke,ke),we instanceof V.BeginEndRule){var xe=we;eP.IN_DEBUG_MODE&&console.log("  pushing "+xe.debugName+" - "+xe.debugBeginRegExp),ej(re,ne,oe,ae,le,xe.beginCaptures,ue),le.produce(ae,ue[0].end),pe=ue[0].end;var Te=xe.getContentName(V.getString(ne),ue),me=ke.push(re,Te);if(ae=ae.setContentNameScopesList(me),xe.endHasBackReferences&&(ae=ae.setEndRule(xe.getEndWithResolvedBackReferences(V.getString(ne),ue))),!_e&&Ce.hasSameRuleAs(ae))return console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),ae=ae.pop(),le.produce(ae,se),void(ce=!0)}else if(we instanceof V.BeginWhileRule){if(xe=we,eP.IN_DEBUG_MODE&&console.log("  pushing "+xe.debugName),ej(re,ne,oe,ae,le,xe.beginCaptures,ue),le.produce(ae,ue[0].end),pe=ue[0].end,Te=xe.getContentName(V.getString(ne),ue),me=ke.push(re,Te),ae=ae.setContentNameScopesList(me),xe.whileHasBackReferences&&(ae=ae.setEndRule(xe.getWhileWithResolvedBackReferences(V.getString(ne),ue))),!_e&&Ce.hasSameRuleAs(ae))return console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),ae=ae.pop(),le.produce(ae,se),void(ce=!0)}else if(eP.IN_DEBUG_MODE&&console.log("  matched "+we.debugName+" - "+we.debugMatchRegExp),ej(re,ne,oe,ae,le,we.captures,ue),le.produce(ae,ue[0].end),ae=ae.pop(),!_e)return console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),ae=ae.safePop(),le.produce(ae,se),void(ce=!0)}ue[0].end>ie&&(ie=ue[0].end,oe=!1)})();return ae}J.Grammar=eG;var eF=function(){function re(){}return re.toBinaryStr=function(ne){for(var oe=ne.toString(2);oe.length<32;)oe="0"+oe;return oe},re.printMetadata=function(ne){console.log({languageId:re.getLanguageId(ne),tokenType:re.getTokenType(ne),fontStyle:re.getFontStyle(ne),foreground:re.getForeground(ne),background:re.getBackground(ne)})},re.getLanguageId=function(ne){return(255&ne)>>>0},re.getTokenType=function(ne){return(1792&ne)>>>8},re.getFontStyle=function(ne){return(14336&ne)>>>11},re.getForeground=function(ne){return(8372224&ne)>>>14},re.getBackground=function(ne){return(4286578688&ne)>>>23},re.set=function(ne,oe,ie,ae,le,se){var ce=re.getLanguageId(ne),de=re.getTokenType(ne),pe=re.getFontStyle(ne),he=re.getForeground(ne),ue=re.getBackground(ne);return oe!==0&&(ce=oe),ie!==0&&(de=ie===8?0:ie),ae!==-1&&(pe=ae),le!==0&&(he=le),se!==0&&(ue=se),(ce<<0|de<<8|pe<<11|he<<14|ue<<23)>>>0},re}();J.StackElementMetadata=eF;var eW=function(){function re(ne,oe,ie){this.parent=ne,this.scope=oe,this.metadata=ie}return re._equals=function(ne,oe){for(;;){if(ne===oe)return!0;if(ne.scope!==oe.scope||ne.metadata!==oe.metadata)return!1;if(ne=ne.parent,oe=oe.parent,!ne&&!oe)return!0;if(!ne||!oe)return!1}},re.prototype.equals=function(ne){return re._equals(this,ne)},re._matchesScope=function(ne,oe,ie){return oe===ne||ne.substring(0,ie.length)===ie},re._matches=function(ne,oe){if(oe===null)return!0;for(var ie=oe.length,ae=0,le=oe[0],se=le+".";ne;){if(this._matchesScope(ne.scope,le,se)){if(++ae===ie)return!0;se=(le=oe[ae])+"."}ne=ne.parent}return!1},re.mergeMetadata=function(ne,oe,ie){if(ie===null)return ne;var ae=-1,le=0,se=0;if(ie.themeData!==null)for(var ce=0,de=ie.themeData.length;ce<de;ce++){var pe=ie.themeData[ce];if(this._matches(oe,pe.parentScopes)){ae=pe.fontStyle,le=pe.foreground,se=pe.background;break}}return eF.set(ne,ie.languageId,ie.tokenType,ae,le,se)},re._push=function(ne,oe,ie){for(var ae=0,le=ie.length;ae<le;ae++){var se=ie[ae],ce=oe.getMetadataForScope(se),de=re.mergeMetadata(ne.metadata,ne,ce);ne=new re(ne,se,de)}return ne},re.prototype.push=function(ne,oe){return oe===null?this:oe.indexOf(" ")>=0?re._push(this,ne,oe.split(/ /g)):re._push(this,ne,[oe])},re._generateScopes=function(ne){for(var oe=[],ie=0;ne;)oe[ie++]=ne.scope,ne=ne.parent;return oe.reverse(),oe},re.prototype.generateScopes=function(){return re._generateScopes(this)},re}();J.ScopeListElement=eW;var eH=function(){function re(ne,oe,ie,ae,le,se){this.parent=ne,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=oe,this._enterPos=ie,this.endRule=ae,this.nameScopesList=le,this.contentNameScopesList=se}return re._structuralEquals=function(ne,oe){for(;;){if(ne===oe)return!0;if(ne.depth!==oe.depth||ne.ruleId!==oe.ruleId||ne.endRule!==oe.endRule)return!1;if(ne=ne.parent,oe=oe.parent,!ne&&!oe)return!0;if(!ne||!oe)return!1}},re._equals=function(ne,oe){return ne===oe||!!this._structuralEquals(ne,oe)&&ne.contentNameScopesList.equals(oe.contentNameScopesList)},re.prototype.clone=function(){return this},re.prototype.equals=function(ne){return ne!==null&&re._equals(this,ne)},re._reset=function(ne){for(;ne;)ne._enterPos=-1,ne=ne.parent},re.prototype.reset=function(){re._reset(this)},re.prototype.pop=function(){return this.parent},re.prototype.safePop=function(){return this.parent?this.parent:this},re.prototype.push=function(ne,oe,ie,ae,le){return new re(this,ne,oe,ie,ae,le)},re.prototype.getEnterPos=function(){return this._enterPos},re.prototype.getRule=function(ne){return ne.getRule(this.ruleId)},re.prototype._writeString=function(ne,oe){return this.parent&&(oe=this.parent._writeString(ne,oe)),ne[oe++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",oe},re.prototype.toString=function(){var ne=[];return this._writeString(ne,0),"["+ne.join(",")+"]"},re.prototype.setContentNameScopesList=function(ne){return this.contentNameScopesList===ne?this:this.parent.push(this.ruleId,this._enterPos,this.endRule,this.nameScopesList,ne)},re.prototype.setEndRule=function(ne){return this.endRule===ne?this:new re(this.parent,this.ruleId,this._enterPos,ne,this.nameScopesList,this.contentNameScopesList)},re.prototype.hasSameRuleAs=function(ne){return this.ruleId===ne.ruleId},re.NULL=new re(null,0,0,null,null,null),re}();J.StackElement=eH;var e$=function(re,ne){this.scopes=re,this.endPos=ne};J.LocalStackElement=e$;var ez=function(){function re(ne,oe,ie){this._emitBinaryTokens=ne,this._tokenTypeOverrides=ie,eP.IN_DEBUG_MODE&&(this._lineText=oe),this._emitBinaryTokens?this._binaryTokens=[]:this._tokens=[],this._lastTokenEndIndex=0}return re.prototype.produce=function(ne,oe){this.produceFromScopes(ne.contentNameScopesList,oe)},re.prototype.produceFromScopes=function(ne,oe){if(!(this._lastTokenEndIndex>=oe)){if(this._emitBinaryTokens){for(var ie=ne.metadata,ae=0,le=this._tokenTypeOverrides;ae<le.length;ae++){var se=le[ae];se.matcher(ne.generateScopes())&&(ie=eF.set(ie,0,function(pe){switch(pe){case 4:return 4;case 2:return 2;case 1:return 1;default:return 8}}(se.type),-1,0,0))}return this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===ie||(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(ie)),void(this._lastTokenEndIndex=oe)}var ce=ne.generateScopes();if(eP.IN_DEBUG_MODE){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,oe).replace(/\n$/,"\\n")+"|");for(var de=0;de<ce.length;de++)console.log("      * "+ce[de])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:oe,scopes:ce}),this._lastTokenEndIndex=oe}},re.prototype.getResult=function(ne,oe){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===oe-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(ne,oe),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},re.prototype.getBinaryResult=function(ne,oe){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===oe-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(ne,oe),this._binaryTokens[this._binaryTokens.length-2]=0);for(var ie=new Uint32Array(this._binaryTokens.length),ae=0,le=this._binaryTokens.length;ae<le;ae++)ie[ae]=this._binaryTokens[ae];return ie},re}(),eq=function(){function re(ne){this._theme=ne,this._grammars={},this._rawGrammars={},this._injectionGrammars={}}return re.prototype.setTheme=function(ne){var oe=this;this._theme=ne,Object.keys(this._grammars).forEach(function(ie){oe._grammars[ie].onDidChangeTheme()})},re.prototype.getColorMap=function(){return this._theme.getColorMap()},re.prototype.addGrammar=function(ne,oe){this._rawGrammars[ne.scopeName]=ne;var ie={};return J.collectIncludedScopes(ie,ne),oe&&(this._injectionGrammars[ne.scopeName]=oe,oe.forEach(function(ae){ie[ae]=!0})),Object.keys(ie)},re.prototype.lookup=function(ne){return this._rawGrammars[ne]},re.prototype.injections=function(ne){return this._injectionGrammars[ne]},re.prototype.getDefaults=function(){return this._theme.getDefaults()},re.prototype.themeMatch=function(ne){return this._theme.match(ne)},re.prototype.grammarForScopeName=function(ne,oe,ie,ae){if(!this._grammars[ne]){var le=this._rawGrammars[ne];if(!le)return null;this._grammars[ne]=J.createGrammar(le,oe,ie,ae,this)}return this._grammars[ne]},re}();Q.SyncRegistry=eq;var eQ={};function eJ(re,ne,oe){var ie=re.length,ae=0,le=1,se=0;function ce(ye){if(oe===null)ae+=ye;else for(;ye>0;)re.charCodeAt(ae)===10?(ae++,le++,se=0):(ae++,se++),ye--}function de(ye){oe===null?ae=ye:ce(ye-ae)}function pe(){for(;ae<ie;){var ye=re.charCodeAt(ae);if(ye!==32&&ye!==9&&ye!==13&&ye!==10)break;ce(1)}}function he(ye){return re.substr(ae,ye.length)===ye&&(ce(ye.length),!0)}function ue(ye){var Oe=re.indexOf(ye,ae);de(Oe!==-1?Oe+ye.length:ie)}function fe(ye){var Oe=re.indexOf(ye,ae);if(Oe!==-1){var Ge=re.substring(ae,Oe);return de(Oe+ye.length),Ge}return Ge=re.substr(ae),de(ie),Ge}ie>0&&re.charCodeAt(0)===65279&&(ae=1);var _e=0,ge=null,be=[],we=[],Ce=null;function Re(ye,Oe){be.push(_e),we.push(ge),_e=ye,ge=Oe}function ke(){if(be.length===0)return xe("illegal state stack");_e=be.pop(),ge=we.pop()}function xe(ye){throw Error("Near offset "+ae+": "+ye+" ~~~"+re.substr(ae,50)+"~~~")}var Te=function(){if(Ce===null)return xe("missing <key>");var ye={};oe!==null&&(ye[oe]={filename:ne,line:le,char:se}),ge[Ce]=ye,Ce=null,Re(1,ye)},me=function(){if(Ce===null)return xe("missing <key>");var ye=[];ge[Ce]=ye,Ce=null,Re(2,ye)},ve=function(){var ye={};oe!==null&&(ye[oe]={filename:ne,line:le,char:se}),ge.push(ye),Re(1,ye)},Ve=function(){var ye=[];ge.push(ye),Re(2,ye)};function Ae(){if(_e!==1)return xe("unexpected </dict>");ke()}function Be(){return _e===1||_e!==2?xe("unexpected </array>"):void ke()}function Me(ye){if(_e===1){if(Ce===null)return xe("missing <key>");ge[Ce]=ye,Ce=null}else _e===2?ge.push(ye):ge=ye}function Se(ye){if(ye.isClosed)return"";var Oe=fe("</");return ue(">"),Oe.replace(/&#([0-9]+);/g,function(Ge,Ze){return String.fromCodePoint(parseInt(Ze,10))}).replace(/&#x([0-9a-f]+);/g,function(Ge,Ze){return String.fromCodePoint(parseInt(Ze,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(Ge){switch(Ge){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return Ge})}for(;ae<ie&&(pe(),!(ae>=ie));){var $e=re.charCodeAt(ae);if(ce(1),$e!==60)return xe("expected <");if(ae>=ie)return xe("unexpected end of input");var Le=re.charCodeAt(ae);if(Le!==63)if(Le!==33){if(Le===47){if(ce(1),pe(),he("plist")){ue(">");continue}if(he("dict")){ue(">"),Ae();continue}if(he("array")){ue(">"),Be();continue}return xe("unexpected closed tag")}var Ne=function(){var ye=fe(">"),Oe=!1;return ye.charCodeAt(ye.length-1)===47&&(Oe=!0,ye=ye.substring(0,ye.length-1)),{name:ye.trim(),isClosed:Oe}}();switch(Ne.name){case"dict":_e===1?Te():_e===2?ve():(ge={},oe!==null&&(ge[oe]={filename:ne,line:le,char:se}),Re(1,ge)),Ne.isClosed&&Ae();continue;case"array":_e===1?me():_e===2?Ve():Re(2,ge=[]),Ne.isClosed&&Be();continue;case"key":(function(ye){if(_e===1){if(Ce!==null)return xe("too many <key>");Ce=ye}else xe("unexpected <key>")})(Se(Ne));continue;case"string":(function(ye){if(_e===1){if(Ce===null)return xe("missing <key>");ge[Ce]=ye,Ce=null}else _e===2?ge.push(ye):ge=ye})(Se(Ne));continue;case"real":(function(ye){if(isNaN(ye))return xe("cannot parse float");if(_e===1){if(Ce===null)return xe("missing <key>");ge[Ce]=ye,Ce=null}else _e===2?ge.push(ye):ge=ye})(parseFloat(Se(Ne)));continue;case"integer":(function(ye){if(isNaN(ye))return xe("cannot parse integer");if(_e===1){if(Ce===null)return xe("missing <key>");ge[Ce]=ye,Ce=null}else _e===2?ge.push(ye):ge=ye})(parseInt(Se(Ne),10));continue;case"date":(function(ye){if(_e===1){if(Ce===null)return xe("missing <key>");ge[Ce]=ye,Ce=null}else _e===2?ge.push(ye):ge=ye})(new Date(Se(Ne)));continue;case"data":(function(ye){if(_e===1){if(Ce===null)return xe("missing <key>");ge[Ce]=ye,Ce=null}else _e===2?ge.push(ye):ge=ye})(Se(Ne));continue;case"true":Se(Ne),Me(!0);continue;case"false":Se(Ne),Me(!1);continue}if(!/^plist/.test(Ne.name))return xe("unexpected opened tag "+Ne.name)}else{if(ce(1),he("--")){ue("-->");continue}ue(">")}else ce(1),ue("?>")}return ge}Object.defineProperty(eQ,"__esModule",{value:!0}),i=o=void 0,o=function(re,ne,oe){return eJ(re,ne,oe)},i=function(re){return eJ(re,null,null)};var eX={};function eY(re,ne){throw Error("Near offset "+re.pos+": "+ne+" ~~~"+re.source.substr(re.pos,50)+"~~~")}Object.defineProperty(eX,"__esModule",{value:!0}),eX.parse=function(re,ne,oe){var ie=new eK(re),ae=new eV,le=0,se=null,ce=[],de=[];function pe(){ce.push(le),de.push(se)}function he(){le=ce.pop(),se=de.pop()}function ue(be){eY(ie,be)}for(;eZ(ie,ae);){if(le===0){if(se!==null&&ue("too many constructs in root"),ae.type===3){se={},oe&&(se.$vscodeTextmateLocation=ae.toLocation(ne)),pe(),le=1;continue}if(ae.type===2){se=[],pe(),le=4;continue}ue("unexpected token in root")}if(le===2){if(ae.type===5){he();continue}if(ae.type===7){le=3;continue}ue("expected , or }")}if(le===1||le===3){if(le===1&&ae.type===5){he();continue}if(ae.type===1){var fe=ae.value;if(eZ(ie,ae)&&ae.type===6||ue("expected colon"),eZ(ie,ae)||ue("expected value"),le=2,ae.type===1){se[fe]=ae.value;continue}if(ae.type===8){se[fe]=null;continue}if(ae.type===9){se[fe]=!0;continue}if(ae.type===10){se[fe]=!1;continue}if(ae.type===11){se[fe]=parseFloat(ae.value);continue}if(ae.type===2){var _e=[];se[fe]=_e,pe(),le=4,se=_e;continue}if(ae.type===3){var ge={};oe&&(ge.$vscodeTextmateLocation=ae.toLocation(ne)),se[fe]=ge,pe(),le=1,se=ge;continue}}ue("unexpected token in dict")}if(le===5){if(ae.type===4){he();continue}if(ae.type===7){le=6;continue}ue("expected , or ]")}if(le===4||le===6){if(le===4&&ae.type===4){he();continue}if(le=5,ae.type===1){se.push(ae.value);continue}if(ae.type===8){se.push(null);continue}if(ae.type===9){se.push(!0);continue}if(ae.type===10){se.push(!1);continue}if(ae.type===11){se.push(parseFloat(ae.value));continue}if(ae.type===2){_e=[],se.push(_e),pe(),le=4,se=_e;continue}if(ae.type===3){ge={},oe&&(ge.$vscodeTextmateLocation=ae.toLocation(ne)),se.push(ge),pe(),le=1,se=ge;continue}ue("unexpected token in array")}ue("unknown state")}return de.length!==0&&ue("unclosed constructs"),se};var eK=function(re){this.source=re,this.pos=0,this.len=re.length,this.line=1,this.char=0},eV=function(){function re(){this.value=null,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return re.prototype.toLocation=function(ne){return{filename:ne,line:this.line,char:this.char}},re}();function eZ(re,ne){ne.value=null,ne.type=0,ne.offset=-1,ne.len=-1,ne.line=-1,ne.char=-1;for(var oe,ie=re.source,ae=re.pos,le=re.len,se=re.line,ce=re.char;;){if(ae>=le)return!1;if((oe=ie.charCodeAt(ae))!==32&&oe!==9&&oe!==13){if(oe!==10)break;ae++,se++,ce=0}else ae++,ce++}if(ne.offset=ae,ne.line=se,ne.char=ce,oe===34){for(ne.type=1,ae++,ce++;;){if(ae>=le)return!1;if(oe=ie.charCodeAt(ae),ae++,ce++,oe!==92){if(oe===34)break}else ae++,ce++}ne.value=ie.substring(ne.offset+1,ae-1).replace(/\\u([0-9A-Fa-f]{4})/g,function(de,pe){return String.fromCodePoint(parseInt(pe,16))}).replace(/\\(.)/g,function(de,pe){switch(pe){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:eY(re,"invalid escape sequence")}})}else if(oe===91)ne.type=2,ae++,ce++;else if(oe===123)ne.type=3,ae++,ce++;else if(oe===93)ne.type=4,ae++,ce++;else if(oe===125)ne.type=5,ae++,ce++;else if(oe===58)ne.type=6,ae++,ce++;else if(oe===44)ne.type=7,ae++,ce++;else if(oe===110){if(ne.type=8,ae++,ce++,(oe=ie.charCodeAt(ae))!==117||(ae++,ce++,(oe=ie.charCodeAt(ae))!==108)||(ae++,ce++,(oe=ie.charCodeAt(ae))!==108))return!1;ae++,ce++}else if(oe===116){if(ne.type=9,ae++,ce++,(oe=ie.charCodeAt(ae))!==114||(ae++,ce++,(oe=ie.charCodeAt(ae))!==117)||(ae++,ce++,(oe=ie.charCodeAt(ae))!==101))return!1;ae++,ce++}else if(oe===102){if(ne.type=10,ae++,ce++,(oe=ie.charCodeAt(ae))!==97||(ae++,ce++,(oe=ie.charCodeAt(ae))!==108)||(ae++,ce++,(oe=ie.charCodeAt(ae))!==115)||(ae++,ce++,(oe=ie.charCodeAt(ae))!==101))return!1;ae++,ce++}else for(ne.type=11;;){if(ae>=le)return!1;if(!((oe=ie.charCodeAt(ae))===46||oe>=48&&oe<=57||oe===101||oe===69||oe===45||oe===43))break;ae++,ce++}return ne.len=ae-ne.offset,ne.value===null&&(ne.value=ie.substr(ne.offset,ne.len)),re.pos=ae,re.line=se,re.char=ce,!0}eQ.parseJSONGrammar=function(re,ne){return eP.CAPTURE_METADATA?eX.parse(re,ne,!0):JSON.parse(re)},eQ.parsePLISTGrammar=function(re,ne){return eP.CAPTURE_METADATA?o(re,ne,"$vscodeTextmateLocation"):i(re)};var e0={};Object.defineProperty(e0,"__esModule",{value:!0});var e1=function(re,ne,oe,ie,ae,le){this.scope=re,this.parentScopes=ne,this.index=oe,this.fontStyle=ie,this.foreground=ae,this.background=le};function e2(re){return!!(/^#[0-9a-f]{6}$/i.test(re)||/^#[0-9a-f]{8}$/i.test(re)||/^#[0-9a-f]{3}$/i.test(re)||/^#[0-9a-f]{4}$/i.test(re))}function e4(re){if(!re||!re.settings||!Array.isArray(re.settings))return[];for(var ne=re.settings,oe=[],ie=0,ae=0,le=ne.length;ae<le;ae++){var se=ne[ae];if(se.settings){var ce=void 0;typeof se.scope=="string"?ce=se.scope.replace(/^[,]+/,"").replace(/[,]+$/,"").split(","):ce=Array.isArray(se.scope)?se.scope:[""];var de=-1;if(typeof se.settings.fontStyle=="string"){de=0;for(var pe=0,he=(_e=se.settings.fontStyle.split(" ")).length;pe<he;pe++)switch(_e[pe]){case"italic":de|=1;break;case"bold":de|=2;break;case"underline":de|=4}}var ue=null;typeof se.settings.foreground=="string"&&e2(se.settings.foreground)&&(ue=se.settings.foreground);var fe=null;for(typeof se.settings.background=="string"&&e2(se.settings.background)&&(fe=se.settings.background),pe=0,he=ce.length;pe<he;pe++){var _e,ge=(_e=ce[pe].trim().split(" "))[_e.length-1],be=null;_e.length>1&&(be=_e.slice(0,_e.length-1)).reverse(),oe[ie++]=new e1(ge,be,ae,de,ue,fe)}}}return oe}e0.ParsedThemeRule=e1,e0.parseTheme=e4;var e6=function(){function re(){this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null)}return re.prototype.getId=function(ne){if(ne===null)return 0;ne=ne.toUpperCase();var oe=this._color2id[ne];return oe||(oe=++this._lastColorId,this._color2id[ne]=oe,this._id2color[oe]=ne),oe},re.prototype.getColorMap=function(){return this._id2color.slice(0)},re}();e0.ColorMap=e6;var e3=function(){function re(ne,oe,ie){this._colorMap=ne,this._root=ie,this._defaults=oe,this._cache={}}return re.createFromRawTheme=function(ne){return this.createFromParsedTheme(e4(ne))},re.createFromParsedTheme=function(ne){return function(oe){oe.sort(function(_e,ge){var be=e8(_e.scope,ge.scope);return be!==0||(be=e5(_e.parentScopes,ge.parentScopes))!==0?be:_e.index-ge.index});for(var ie=0,ae="#000000",le="#ffffff";oe.length>=1&&oe[0].scope==="";){var se=oe.shift();se.fontStyle!==-1&&(ie=se.fontStyle),se.foreground!==null&&(ae=se.foreground),se.background!==null&&(le=se.background)}for(var ce=new e6,de=new e7(0,null,ie,ce.getId(ae),ce.getId(le)),pe=new e9(new e7(0,null,-1,0,0),[]),he=0,ue=oe.length;he<ue;he++){var fe=oe[he];pe.insert(0,fe.scope,fe.parentScopes,fe.fontStyle,ce.getId(fe.foreground),ce.getId(fe.background))}return new e3(ce,de,pe)}(ne)},re.prototype.getColorMap=function(){return this._colorMap.getColorMap()},re.prototype.getDefaults=function(){return this._defaults},re.prototype.match=function(ne){return this._cache.hasOwnProperty(ne)||(this._cache[ne]=this._root.match(ne)),this._cache[ne]},re}();function e8(re,ne){return re<ne?-1:re>ne?1:0}function e5(re,ne){if(re===null&&ne===null)return 0;if(!re)return-1;if(!ne)return 1;var oe=re.length,ie=ne.length;if(oe===ie){for(var ae=0;ae<oe;ae++){var le=e8(re[ae],ne[ae]);if(le!==0)return le}return 0}return oe-ie}e0.Theme=e3,e0.strcmp=e8,e0.strArrCmp=e5;var e7=function(){function re(ne,oe,ie,ae,le){this.scopeDepth=ne,this.parentScopes=oe,this.fontStyle=ie,this.foreground=ae,this.background=le}return re.prototype.clone=function(){return new re(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},re.cloneArr=function(ne){for(var oe=[],ie=0,ae=ne.length;ie<ae;ie++)oe[ie]=ne[ie].clone();return oe},re.prototype.acceptOverwrite=function(ne,oe,ie,ae){this.scopeDepth>ne?console.log("how did this happen?"):this.scopeDepth=ne,oe!==-1&&(this.fontStyle=oe),ie!==0&&(this.foreground=ie),ae!==0&&(this.background=ae)},re}();e0.ThemeTrieElementRule=e7;var e9=function(){function re(ne,oe,ie){oe===void 0&&(oe=[]),ie===void 0&&(ie={}),this._mainRule=ne,this._rulesWithParentScopes=oe,this._children=ie}return re._sortBySpecificity=function(ne){return ne.length===1||ne.sort(this._cmpBySpecificity),ne},re._cmpBySpecificity=function(ne,oe){if(ne.scopeDepth===oe.scopeDepth){var ie=ne.parentScopes,ae=oe.parentScopes,le=ie===null?0:ie.length,se=ae===null?0:ae.length;if(le===se)for(var ce=0;ce<le;ce++){var de=ie[ce].length,pe=ae[ce].length;if(de!==pe)return pe-de}return se-le}return oe.scopeDepth-ne.scopeDepth},re.prototype.match=function(ne){if(ne==="")return re._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var oe,ie,ae=ne.indexOf(".");return ae===-1?(oe=ne,ie=""):(oe=ne.substring(0,ae),ie=ne.substring(ae+1)),this._children.hasOwnProperty(oe)?this._children[oe].match(ie):re._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},re.prototype.insert=function(ne,oe,ie,ae,le,se){if(oe!==""){var ce,de,pe,he=oe.indexOf(".");he===-1?(ce=oe,de=""):(ce=oe.substring(0,he),de=oe.substring(he+1)),this._children.hasOwnProperty(ce)?pe=this._children[ce]:(pe=new re(this._mainRule.clone(),e7.cloneArr(this._rulesWithParentScopes)),this._children[ce]=pe),pe.insert(ne+1,de,ie,ae,le,se)}else this._doInsertHere(ne,ie,ae,le,se)},re.prototype._doInsertHere=function(ne,oe,ie,ae,le){if(oe!==null){for(var se=0,ce=this._rulesWithParentScopes.length;se<ce;se++){var de=this._rulesWithParentScopes[se];if(e5(de.parentScopes,oe)===0)return void de.acceptOverwrite(ne,ie,ae,le)}ie===-1&&(ie=this._mainRule.fontStyle),ae===0&&(ae=this._mainRule.foreground),le===0&&(le=this._mainRule.background),this._rulesWithParentScopes.push(new e7(ne,oe,ie,ae,le))}else this._mainRule.acceptOverwrite(ne,ie,ae,le)},re}();e0.ThemeTrieElement=e9;var te={getGrammarDefinition:function(re){return null},getInjections:function(re){return null}},tt=function(){function re(ne){ne===void 0&&(ne=te),this._locator=ne,this._syncRegistry=new Q.SyncRegistry(e0.Theme.createFromRawTheme(ne.theme)),this.installationQueue=new Map}return re.prototype.setTheme=function(ne){this._syncRegistry.setTheme(e0.Theme.createFromRawTheme(ne))},re.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},re.prototype.loadGrammarWithEmbeddedLanguages=function(ne,oe,ie){return this.loadGrammarWithConfiguration(ne,oe,{embeddedLanguages:ie})},re.prototype.loadGrammarWithConfiguration=function(ne,oe,ie){return z(this,void 0,void 0,function(){return q(this,function(ae){switch(ae.label){case 0:return[4,this._loadGrammar(ne)];case 1:return ae.sent(),[2,this.grammarForScopeName(ne,oe,ie.embeddedLanguages,ie.tokenTypes)]}})})},re.prototype.loadGrammar=function(ne){return z(this,void 0,void 0,function(){return q(this,function(oe){return[2,this._loadGrammar(ne)]})})},re.prototype._loadGrammar=function(ne,oe){return oe===void 0&&(oe=null),z(this,void 0,void 0,function(){var ie,ae=this;return q(this,function(le){switch(le.label){case 0:return this._syncRegistry.lookup(ne)?[2,this.grammarForScopeName(ne)]:this.installationQueue.has(ne)?[2,this.installationQueue.get(ne)]:(ie=new Promise(function(se,ce){return z(ae,void 0,void 0,function(){var de,pe,he,ue=this;return q(this,function(fe){switch(fe.label){case 0:return[4,this._locator.getGrammarDefinition(ne,oe)];case 1:if(!(de=fe.sent()))throw Error("A tmGrammar load was requested but registry host failed to provide grammar definition");if(de.format!=="json"&&de.format!=="plist"||de.format==="json"&&typeof de.content!="object"&&typeof de.content!="string"||de.format==="plist"&&typeof de.content!="string")throw TypeError('Grammar definition must be an object, either `{ content: string | object, format: "json" }` OR `{ content: string, format: "plist" }`)');return pe=de.format==="json"?typeof de.content=="string"?eQ.parseJSONGrammar(de.content,"c://fakepath/grammar.json"):de.content:eQ.parsePLISTGrammar(de.content,"c://fakepath/grammar.plist"),he=typeof this._locator.getInjections=="function"&&this._locator.getInjections(ne),pe.scopeName=ne,[4,Promise.all(this._syncRegistry.addGrammar(pe,he).map(function(_e){return z(ue,void 0,void 0,function(){return q(this,function(ge){try{return[2,this._loadGrammar(_e,ne)]}catch(be){throw Error("While trying to load tmGrammar with scopeId: '"+ne+"', it's dependency (scopeId: "+_e+") loading errored: "+be.message)}return[2]})})}))];case 2:return fe.sent(),se(this.grammarForScopeName(ne)),[2]}})})}),this.installationQueue.set(ne,ie),[4,ie]);case 1:return le.sent(),this.installationQueue.delete(ne),[2,ie]}})})},re.prototype.grammarForScopeName=function(ne,oe,ie,ae){return oe===void 0&&(oe=0),ie===void 0&&(ie=null),ae===void 0&&(ae=null),this._syncRegistry.grammarForScopeName(ne,oe,ie,ae)},re}();$.Registry=tt,$.INITIAL=J.StackElement.NULL;var tn={};Object.defineProperty(tn,"__esModule",{value:!0}),tn.wireTmGrammars=void 0;var tr={};Object.defineProperty(tr,"__esModule",{value:!0}),tr.TMToMonacoToken=void 0,tr.TMToMonacoToken=(re,ne)=>{let oe="";for(let ie=ne[0].length-1;ie>=0;ie-=1){let ae=ne[0][ie];if(ae===".")break;oe=ae+oe}for(let ie=ne.length-1;ie>=0;ie-=1){let ae=ne[ie];for(let le=ae.length-1;le>=0;le-=1)if(ae[le]==="."){let se=ae.slice(0,le);if(re._themeService._theme._tokenTheme._match(se+"."+oe)._foreground>1)return se+"."+oe;if(re._themeService._theme._tokenTheme._match(se)._foreground>1)return se}}return""};class ti{constructor(ne){_t(this,"_ruleStack");this._ruleStack=ne}get ruleStack(){return this._ruleStack}clone(){return new ti(this._ruleStack)}equals(ne){return!!ne&&ne instanceof ti&&ne===this&&ne._ruleStack===this._ruleStack}}tn.wireTmGrammars=function(re,ne,oe,ie){return Promise.all(Array.from(oe.keys()).map(async ae=>{let le=await ne.loadGrammar(oe.get(ae));re.languages.setTokensProvider(ae,{getInitialState:()=>new ti($.INITIAL),tokenize:(se,ce)=>{let de=le.tokenizeLine(se,ce.ruleStack);return{endState:new ti(de.ruleStack),tokens:de.tokens.map(pe=>({...pe,scopes:ie?(0,tr.TMToMonacoToken)(ie,pe.scopes):pe.scopes[pe.scopes.length-1]}))}}})}))};const loadWASM=c.loadWASM,Registry=$.Registry,wireTmGrammars=tn.wireTmGrammars,_sfc_main$c=Vue.defineComponent({__name:"MonacoEditor",props:Vue.mergeModels({options:{},width:{default:"100%"},height:{default:"300px"}},{modelValue:{required:!0}}),emits:Vue.mergeModels(["save"],["update:modelValue"]),setup(re,{expose:ne,emit:oe}){const ie=re,ae=Vue.ref(),le=Vue.ref(),se=Vue.ref(),ce=Vue.ref(!1),de=Vue.useModel(re,"modelValue"),pe=Vue.computed(()=>{const Ve={...ie.options};return ce.value&&(Ve.theme==="vs"?Ve.theme="light-plus":Ve.theme==="vs-dark"&&(Ve.theme="dark-plus")),Ve}),he=Vue.ref(!1),ue=Vue.computed(()=>he.value?"position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 1000;":`width: ${me(ie.width)}; height: ${me(ie.height)}`),fe=Vue.ref(),_e=Vue.ref(),ge=Vue.ref(),be=Vue.ref(),we=ve();Vue.onMounted(async()=>{await we;const Ve=document.createElement("script");Ve.type="text/javascript",Ve.src=fe.value.vs+"/loader.js",Ve.onload=Ce,document.head.appendChild(Ve)});async function Ce(){const Ve=window.require;Ve.config({paths:{vs:fe.value.vs},"vs/nls":{availableLanguages:{"vs/editor/editor.main":fe.value.local}}}),await new Promise($e=>Ve(["vs/editor/editor.main"],$e));const Ae=window.monaco;le.value=Vue.markRaw(Ae);const Be=ae.value,Me={...pe.value,value:de.value},Se=Ae.editor.create(Be,Me);se.value=Vue.markRaw(Se),Te(Ae,Se),Re(Ae,Se),Vue.watch(pe,$e=>Se.updateOptions($e)),Vue.watch(de,$e=>!Se.hasTextFocus()&&Se.setValue($e)),Se.onDidChangeModelContent(()=>de.value=Se.getValue())}function Re(Ve,Ae){Ae.addAction({id:"save",label:"保存",keybindings:[Ve.KeyMod.CtrlCmd|Ve.KeyCode.KeyS],contextMenuGroupId:"navigation",run:()=>(oe("save"),void 0)}),Ae.addAction({id:"fullScreen",label:"全屏/关闭全屏",keybindings:[Ve.KeyMod.CtrlCmd|Ve.KeyCode.KeyQ],contextMenuGroupId:"navigation",run:()=>(he.value=!he.value,void 0)})}async function ke(Ve){const Ae=_e.value.sources.find($e=>$e.scopeName===Ve);if(!Ae)throw new Error(`Unknown scope name: ${Ve}`);const Be=_e.value.path+Ae.path,Me="grammar_definition_cache@"+Be;return{format:"json",content:await storage.getWithURL(Me,Be,"json")}}async function xe(){const Ve="onigasm_wasm_cache@"+_e.value.onigasmWASM,Ae=await storage.getWithURL(Ve,_e.value.onigasmWASM,"arrayBuffer");await loadWASM(Ae)}async function Te(Ve,Ae){await xe(),Ve.editor.defineTheme("light-plus",be.value),Ve.editor.defineTheme("dark-plus",ge.value);const Be=new Registry({getGrammarDefinition:ke});await wireTmGrammars(Ve,Be,new Map([["javascript","source.js"]]),Ae),ce.value=!0}function me(Ve){return typeof Ve=="number"?Ve+"px":Ve}async function ve(){const Ve=[[fe,"/setting/monaco/config.json"],[_e,"/setting/monaco/extensions.json"],[be,"/setting/monaco/theme/light-plus.json"],[ge,"/setting/monaco/theme/dark-plus.json"]];return Promise.all(Ve.map(async([Ae,Be])=>{const Me="monaco_config_json_cache@"+Be;Ae.value=await storage.getWithURL(Me,Be,"json")}))}return ne({useMonaco:(()=>{const Ve=[],Ae=Vue.watch(le,Be=>{Be&&(Ae(),Ve.forEach(Me=>Me(Be)))});return Be=>{le.value?Be(le.value):Ve.push(Be)}})(),useEditor:(()=>{const Ve=[],Ae=Vue.watch(se,Be=>{Be&&(Ae(),Ve.forEach(Me=>Me(Be)))});return Be=>{se.value?Be(se.value):Ve.push(Be)}})()}),(Ve,Ae)=>(Vue.openBlock(),Vue.createElementBlock("div",{ref_key:"editorContainer",ref:ae,style:Vue.normalizeStyle(Vue.unref(ue))},null,4))}}),MonacoEditor_vue_vue_type_style_index_0_scoped_56e9ad90_lang="",MonacoEditor=_export_sfc(_sfc_main$c,[["__scopeId","data-v-56e9ad90"]]);async function loadFileText(re){return(await fetch(re)).text()}const configPath="/setting/monaco/javascript/config.json",declareListPath="/setting/monaco/javascript/declare/declare.json",_sfc_main$b=Vue.defineComponent({__name:"MoCodeEditor",props:Vue.mergeModels({width:{},height:{},placeholder:{},disabled:{type:Boolean},params:{}},{modelValue:{}}),emits:["update:modelValue"],setup(re){const ne=re,oe=Vue.ref(),ie=Vue.useModel(re,"modelValue"),ae=Vue.computed({get:()=>ie.value||"",set:fe=>ie.value=fe}),le=Vue.computed(()=>({language:"javascript",minimap:{enabled:!1},theme:store.theme==="dark"?"vs-dark":"vs",automaticLayout:!0,scrollBeyondLastLine:!1,readOnly:ne.disabled}));Vue.onMounted(async()=>{const fe=oe.value,_e=new Promise(fe.useMonaco),ge=new Promise(fe.useEditor);ce(_e,ge),de(_e,ge),await he(_e),se(_e)});async function se(fe){const _e=(await fe).languages,ge=async(we,Ce)=>{_e.typescript.javascriptDefaults.addExtraLib(we,Ce)};let be=null;Vue.watchEffect(async()=>{const we=ne.params;if(be!==(we==null?void 0:we.modelItem)){be=we==null?void 0:we.modelItem;const Ce=await ue(be,we==null?void 0:we.modelItems);ge(Ce,"model.d.ts")}})}async function ce(fe,_e){const ge="javascript_config_cache@"+configPath,be=await storage.getWithURL(ge,configPath,"json"),{prettier:we}=be,{path:Ce,options:Re}=we,[ke,{default:xe},{default:Te},me,ve]=await Promise.all([__vitePreload(()=>import(`${Ce}/standalone.mjs`),[],import.meta.url),__vitePreload(()=>import(`${Ce}/plugins/babel.mjs`),[],import.meta.url),__vitePreload(()=>import(`${Ce}/plugins/estree.mjs`),[],import.meta.url),fe,_e]);ve.addCommand(me.KeyMod.Alt|me.KeyMod.Shift|me.KeyCode.KeyF,async()=>{const Ve=await ke.format(ve.getValue(),{parser:"babel",plugins:[xe,Te],...Re});ve.setValue(Ve)})}async function de(fe,_e){const ge=new Worker(await pe()),[be,we]=await Promise.all([fe,_e]),Ce=we.getModel();ge.onmessage=function(ke){const{markers:xe,version:Te}=ke.data;Ce&&Ce.getVersionId()===Te&&be.editor.setModelMarkers(Ce,"ESLint",xe)};let Re=null;Ce.onDidChangeContent(()=>{Re&&clearTimeout(Re);const ke=Ce.getValue(),xe=Ce.getVersionId();Re=setTimeout(()=>ge.postMessage({code:ke,version:xe}),500)})}async function pe(){const fe="javascript_config_cache@"+configPath,_e=await storage.getWithURL(fe,configPath,"json"),{eslint:ge}=_e,{path:be,options:we}=ge,Ce=`(async () => {
        const res = await fetch('${be}');
        eval('const window = undefined;' + (await res.text()));
        const linter = new self.eslint.Linter();
        self.addEventListener('message', function (e) {
            const { code, version } = e.data;
            const markers = linter.verify(code, ${JSON.stringify(we)}).map((err) => ({
                code: err.ruleId,
                startLineNumber: err.line,
                endLineNumber: err.endLine,
                startColumn: err.column,
                endColumn: err.endColumn,
                message: err.message,
                severity: err.severity === 1 ? 4 : 8,
                source: 'ESLint'
            }));
            self.postMessage({ markers, version });
        });
    })();`;return URL.createObjectURL(new Blob([Ce],{type:"text/javascript"}))}async function he(fe){const _e="declare_list_cache@"+declareListPath,be=(await storage.getWithURL(_e,declareListPath,"json")).map(async Re=>{let ke=await storage.get("declare_cache@"+Re);if(!ke){const xe=await loadFileText(Re);if(xe.indexOf("declare module")!==-1||!Re.startsWith("http"))ke=xe;else{let Te=Re;const me=Te.lastIndexOf("/");me!==-1&&(Te=Re.substring(me+1)),Te.endsWith(".d.ts")&&(Te=Te.substring(0,Te.length-5)),ke=`declare module "${Te}" {
${xe.replace(/declare /g,"")}
}`}storage.set("declare_cache@"+Re,ke)}return{filePath:Re,content:ke}}),[we,Ce]=await Promise.all([fe,Promise.all(be)]);we.languages.typescript.javascriptDefaults.setExtraLibs(Ce)}async function ue(fe,_e){if(!fe)return"";const ge=[];let be="type ModelName",we="type ResultModel<T> =";for(const Ce of _e){const{name:Re,schema:ke}=Ce,xe={};for(const[me,ve]of Object.entries(ke)){const Ve="type"in ve?ve.type.name:ve.name;xe[me]=/[SNB]/.test(Ve[0])?Ve.replace(/./,Ae=>Ae.toLowerCase()):Ve}const Te=JSON.stringify(xe).replace(/"/g,"");ge.push(`type ${Re}Model = mongoose.Model<${Te}&{_id:mongoose.SchemaTypes.ObjectId}>,{}>;`),be+=` | '${Re}'`,we+=` T extends '${Re}' ? ${Re}Model :`}return(await loadFileText("/setting/monaco/javascript/declare/template/model.d.ts")).replace(/\$\$namespace\$\$/g,fe.module.replace(/./,Ce=>Ce.toUpperCase())+"Module").replace(/\$\$types\$\$/g,ge.join(`
    `)).replace(/\$\$names\$\$/g,be.replace("|","=")+";").replace(/\$\$results\$\$/g,we+" never;").replace(/\$\$currentModelName\$\$/g,fe.name)}return(fe,_e)=>(Vue.openBlock(),Vue.createBlock(MonacoEditor,{ref_key:"monacoEditorRef",ref:oe,modelValue:Vue.unref(ae),"onUpdate:modelValue":_e[0]||(_e[0]=ge=>Vue.isRef(ae)?ae.value=ge:null),options:Vue.unref(le),width:ne.width,height:ne.height},null,8,["modelValue","options","width","height"]))}}),moduleApi={all:"/mossm/module/all"},moduleService={all:async()=>service.get(moduleApi.all)},modelApi={all:"/mossm/model/all",save:"/mossm/model/save",update:"/mossm/model/update",remove:"/mossm/model/remove"},modelService={all:async re=>{const ne=re?{module:re}:void 0;return service.get(modelApi.all,ne)},save:async re=>service.post(modelApi.save,re),update:async re=>service.post(modelApi.update,re),remove:async re=>service.post(modelApi.remove,{_id:re})},mossmApi={all:"/mossm/api/all",list:"/mossm/api/list",save:"/mossm/api/save",update:"/mossm/api/update",remove:"/mossm/api/remove"},apiService={all:async()=>service.get(mossmApi.all),list:async re=>service.get(mossmApi.list,re),save:async re=>service.post(mossmApi.save,re),update:async re=>service.post(mossmApi.update,re),remove:async re=>service.post(mossmApi.remove,{_id:re})};function commonHandlerTemplate(re,ne,oe,ie){let ae=`/**
 * 处理器
 *
 * @param {Object} param0 请求参数
`,le="{";return re.length>0&&(le+=" ",re.forEach((se,ce)=>{const de=se.type==="Date"||se.type==="Object"?se.type:se.type.toLowerCase(),pe=se.default?`[param0.${se.name}=${se.default}]`:`param0.${se.name}`;ae+=` * @param {${de}} ${pe} ${se.description||""}
`,ce>0&&(le+=", "),le+=se.default?`${se.name} = ${se.default}`:se.name})),ae+=" */",le+=le.length>1?" }":"}",`import { Result, JWT } from "utils";
import { Model, Models } from "#current-module";

${ae}
export async function handler(${le}) {
    try {
        ${ne}
        return Result.success({ message: '${oe}', data });
    } catch (error) {
        throw new Error('${ie}');
    }
}
`}function selectHandlerTemplate(re,ne,oe,ie,ae){re.push({name:"page",type:"Number",description:"页码"},{name:"limit",type:"Number",default:"10",description:"每页数据条数"},{name:"sort",type:"Object",default:"{ create_time: -1 }",description:"排序"});const le=`let data;
        if (page) {
            page = Number(page);
            const [list, total] = await Promise.all([
                Model.find(${oe})
                    .select('${ne}')
                    .skip((page - 1) * limit)
                    .limit(limit)
                    .sort(sort)
                    .exec(),
                Model.count(${oe})
            ]);
            data = { list, total };
        } else {
            data = await Model.find(${oe}).select('${ne}').sort(sort).exec();
        }`;return commonHandlerTemplate(re,le,ie,ae)}function insertHandlerTemplate(re,ne,oe){const ae=`const insertModel = new Model(${re.length>0?`{ ${re.map(le=>le.name).join(", ")} }`:"{}"});
        const data = await insertModel.save();`;return commonHandlerTemplate(re,ae,ne,oe)}function updateHandlerTemplate(re,ne,oe,ie){const ae=re.length>0?`{ ${re.map(se=>se.name).join(", ")} }`:"{}",le=`const data = await Model.updateMany(${ne||"{}"}, { $set: ${ae} });`;return commonHandlerTemplate(re,le,oe,ie)}function deleteHandlerTemplate(re,ne,oe){const ae=`const data = await Model.deleteMany(${re.length>0?`{ ${re.map(le=>le.name).join(", ")} }`:"{}"});`;return commonHandlerTemplate(re,ae,ne,oe)}const _sfc_main$a=Vue.defineComponent({__name:"MoAPI",setup(__props){const modelCache=new Map,modelListCache=new Map,typeOptions=[{label:"查询",value:"SELECT"},{label:"新增",value:"INSERT"},{label:"修改",value:"UPDATE"},{label:"删除",value:"DELETE"}],loadModule=(()=>{let re;return async(ne,oe)=>{if(re)return re;const ie=await moduleService.all();return oe.value=!1,re=ie.map(ae=>({label:ae,value:ae}))}})(),watchModule=re=>{const ne=re.value.module,{tagName:oe,classList:ie}=document.activeElement||{};(!ne||oe==="DIV"&&(ie!=null&&ie.contains("el-select__popper")))&&(re.value.model="")},loadModel=(()=>{const cache=new Map;return async editDataRef=>{const module=editDataRef.value.module;if(!module)return[];if(cache.has(module))return cache.get(module);const list=await modelService.all(module),modelItemList=[];modelListCache.set(module,modelItemList);const options=list.map(item=>{const modelItem={...item,schema:eval("("+item.property+")")};return modelCache.set(module+"#"+item.name,modelItem),modelItemList.push(modelItem),{label:item.name,value:item.name}});return cache.set(module,options),options}})(),gridProps={search:{components:[{type:"select",name:"module",label:"模块：",placeholder:"请选择模块",options:loadModule},{type:"select",name:"model",label:"模型：",placeholder:"请选择模型",disabled:re=>re.module==="",options:loadModel}],watch:[watchModule]},toolbar:{buttons:["add","deleteBatch"]},table:{columns:[{prop:"path",label:"接口地址",minWidth:300,format:re=>`/${re.module}/${re.model.replace(re.model[0],re.model[0].toLowerCase())}${re.path}`},{prop:"type",label:"类型",minWidth:90,format:re=>{var ne;return re.customize?"自定义":((ne=typeOptions.find(oe=>oe.value===re.type))==null?void 0:ne.label)||"-"}},{prop:"authorized",label:"是否验证",minWidth:90,format:re=>re.authorized?"是":"否"},{prop:"method",label:"请求方法",minWidth:90},{prop:"status",label:"状态",minWidth:60,format:re=>re.status?"开启":"关闭"},{prop:"create_time",label:"创建时间",width:170,format:re=>new Date(re.create_time).toLocaleString()},{prop:"update_time",label:"更新时间",width:170,format:re=>new Date(re.update_time).toLocaleString()}],operations:["delete","edit"]},pagination:{limit:10},editDialog:{initData:{authorized:!1,customize:!1,type:"SELECT",method:"GET",success_message:"成功!",error_message:"失败!",status:!0},components:[{type:"select",name:"module",label:"模块：",placeholder:"请选择模块",options:loadModule},{type:"select",name:"model",label:"模型：",placeholder:"请选择模型",disabled:re=>re.module==="",options:loadModel},{type:"input",name:"path",label:"路径：",placeholder:"请输入路径"},{type:"select",name:"method",label:"请求方法：",options:[{label:"GET",value:"GET"},{label:"POST",value:"POST"}]},{type:"switch",name:"authorized",label:"是否验证："},{type:"switch",name:"customize",label:"自定义处理："},{type:"custom",name:"raw_handler",label:"处理器：",component:_sfc_main$b,height:500,placeholder:"请输入处理器",params:async re=>{const ne=re.value.module,oe=re.value.model;if(!oe)return{};const ie=await getModelItem(ne,oe),ae=modelListCache.get(ne);return{modelItem:ie,modelItems:ae}},visible:re=>re.customize==="true"},{type:"select",name:"type",label:"类型：",options:typeOptions,visible:re=>re.customize!=="true"},{type:"select",name:"input_fields",label:"参数字段：",multiple:!0,width:"100%",visible:re=>re.customize!=="true",disabled:re=>re.model==="",options:async re=>{const ne=re.value.model;if(!ne)return[];const oe=re.value.module,ie=await getModelItem(oe,ne);return["_id",...Object.keys(ie.schema)].map(le=>({label:le,value:le}))}},{type:"select",name:"output_fields",label:"数据字段：",multiple:!0,width:"100%",visible:re=>re.customize!=="true"&&re.type==="SELECT",disabled:re=>re.model==="",options:async re=>{const ne=re.value.model;if(!ne)return[];const oe=re.value.module,ie=await getModelItem(oe,ne);return Object.keys(ie.schema).map(le=>({label:le,value:le}))}},{type:"input",name:"where",label:"过滤条件：",placeholder:"请输入过滤条件",visible:re=>re.customize!=="true"&&re.type!==""&&re.type!=="INSERT"},{type:"input",name:"success_message",label:"成功消息：",placeholder:"请输入成功消息",visible:re=>re.customize!=="true"},{type:"input",name:"error_message",label:"失败消息：",placeholder:"请输入失败消息",visible:re=>re.customize!=="true"},{type:"switch",name:"status",label:"状态：",visible:re=>re._id!==""}],rules:{module:[{required:!0,message:"请输入模块名称",trigger:"blur"}],model:[{required:!0,message:"请输入模型名称",trigger:"blur"}],path:[{required:!0,message:"请输入路由路径",trigger:"blur"}],handler:[{required:!0,message:"请输入处理器",trigger:"blur"}]},watch:[watchModule,re=>{var ne,oe;if(((oe=(ne=re.value)==null?void 0:ne.customize)==null?void 0:oe.toString())==="false"&&re.value.module&&re.value.model){let ie=re.value.input_fields,ae=re.value.output_fields;ie instanceof Array&&(ie=ie.join(",")),ae instanceof Array&&(ae=ae.join(",")),generateHandler({module:re.value.module,model:re.value.model,type:re.value.type,input_fields:ie,output_fields:ae,where:re.value.where,success_message:re.value.success_message,error_message:re.value.error_message}).then(le=>re.value.raw_handler=le)}}],width:"80%",labelWidth:110},api:{list:async({page:re,limit:ne,searchData:oe})=>{const ie=(oe==null?void 0:oe.module)||void 0,ae=(oe==null?void 0:oe.model)||void 0;return await apiService.list({module:ie,model:ae,page:re,limit:ne})},add:async re=>{const ne={module:re.module,model:re.model,path:re.path,authorized:re.authorized==="true",method:re.method,raw_handler:re.raw_handler,customize:!0};re.customize==="false"&&Object.assign(ne,{customize:!1,type:re.type,input_fields:re.input_fields,output_fields:re.output_fields,where:re.where,success_message:re.success_message,error_message:re.error_message}),await apiService.save(ne)},update:async re=>{const ne={_id:re._id,module:re.module,model:re.model,path:re.path,authorized:re.authorized==="true",method:re.method,customize:!0,raw_handler:re.raw_handler,status:re.status==="true"};re.customize==="false"&&Object.assign(ne,{customize:!1,type:re.type,input_fields:re.input_fields,output_fields:re.output_fields,where:re.where,success_message:re.success_message,error_message:re.error_message}),await apiService.update(ne)},remove:async({_id:re})=>{re&&await apiService.remove(re)},removeBatch:async re=>{await apiService.remove(re.map(ne=>ne._id))}}};async function generateHandler({module:re,model:ne,type:oe="SELECT",input_fields:ie="",output_fields:ae="",where:le="",success_message:se="成功!",error_message:ce="失败!"}){const de=[];if(ie!==""){const pe=ie.split(","),ue=(await getModelItem(re,ne)).schema;pe.forEach(fe=>{const _e=ue[fe],ge="type"in _e?_e.type.name:_e.name;de.push({name:fe,type:ge})})}if(oe==="SELECT"){const pe=ae.replace(/,/g," ");return selectHandlerTemplate(de,pe,le,se,ce)}return oe==="INSERT"?insertHandlerTemplate(de,se,ce):oe==="UPDATE"?updateHandlerTemplate(de,le,se,ce):oe==="DELETE"?deleteHandlerTemplate(de,se,ce):commonHandlerTemplate(de,"let data = {};",se,ce)}async function getModelItem(re,ne){return new Promise(oe=>{const ie=setInterval(()=>{const ae=modelCache.get(re+"#"+ne);ae&&(oe(ae),clearInterval(ie))},500)})}return(re,ne)=>(Vue.openBlock(),Vue.createBlock(MoGrid,Vue.normalizeProps(Vue.guardReactiveProps(gridProps)),null,16))}}),_hoisted_1$5={class:"my-dropdown1"},_hoisted_2$5=["onClick"],_sfc_main$9=Vue.defineComponent({__name:"AddTable",props:{modules:{}},emits:["confirm"],setup(re,{expose:ne,emit:oe}){const ie=re,ae=Vue.ref(!1),le=Vue.reactive({module:"",model:"",table:""}),se=Vue.ref([{children:[{field:"module",title:"模块名称",slots:{default:"module"},span:24},{field:"model",title:"模型名称",itemRender:{name:"$input",props:{placeholder:"请输入模型名称"}},span:24},{field:"table",title:"表名称",itemRender:{name:"$input",props:{placeholder:"请输入表名称"}},span:24}]}]),ce=Vue.ref({module:[{required:!0,content:"模块名称必须填写"},{pattern:/^[a-zA-Z][a-zA-Z0-9_]*$/,content:"必须以字母开头且只包含字母、数字、下划线"}],model:[{required:!0,content:"模型名称必须填写"},{pattern:/^[a-zA-Z][a-zA-Z0-9_]*$/,content:"必须以字母开头且只包含字母、数字、下划线"}],table:[{required:!0,content:"表名称必须填写"},{pattern:/^[a-zA-Z][a-zA-Z0-9_]*$/,content:"必须以字母开头且只包含字母、数字、下划线"}]}),de=Vue.ref(!1),pe=Vue.ref([]),he=Vue.ref();Vue.watchEffect(()=>{pe.value=ie.modules});const ue=()=>{de.value=!0},fe=()=>{pe.value=le.module?ie.modules.filter(be=>be.indexOf(le.module)>-1):ie.modules},_e=be=>{var we;le.module=be,de.value=!1,pe.value=ie.modules,(we=he.value)==null||we.clearValidate("module")},ge=async({type:be})=>{var we;if(be==="confirm"){if(await((we=he.value)==null?void 0:we.validate()))return new Error;oe("confirm",le)}};return ne({open:async()=>{Object.assign(le,{module:"",model:"",table:""}),ae.value=!0}}),(be,we)=>{const Ce=Vue.resolveComponent("VxeInput"),Re=Vue.resolveComponent("VxePulldown"),ke=Vue.resolveComponent("VxeForm"),xe=Vue.resolveComponent("VxeModal");return Vue.openBlock(),Vue.createBlock(xe,{modelValue:Vue.unref(ae),"onUpdate:modelValue":we[1]||(we[1]=Te=>Vue.isRef(ae)?ae.value=Te:null),width:"400",title:"新建表",type:"confirm","show-footer":"","before-hide-method":ge},{default:Vue.withCtx(()=>[Vue.createVNode(ke,{ref_key:"formRef",ref:he,data:Vue.unref(le),items:Vue.unref(se),rules:Vue.unref(ce),"title-width":"85","title-align":"right",titleColon:""},{module:Vue.withCtx(({data:Te})=>[Vue.createVNode(Re,{modelValue:Vue.unref(de),"onUpdate:modelValue":we[0]||(we[0]=me=>Vue.isRef(de)?de.value=me:null),"class-name":"w-full"},{default:Vue.withCtx(()=>[Vue.createVNode(Ce,{modelValue:Te.module,"onUpdate:modelValue":me=>Te.module=me,placeholder:"请输入模块名称",onFocus:ue,onKeyup:fe},null,8,["modelValue","onUpdate:modelValue"])]),dropdown:Vue.withCtx(()=>[Vue.createElementVNode("div",_hoisted_1$5,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(pe),me=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"list-item1",key:me,onClick:ve=>_e(me)},[Vue.createElementVNode("span",null,Vue.toDisplayString(me),1)],8,_hoisted_2$5))),128))])]),_:2},1032,["modelValue"])]),_:1},8,["data","items","rules"])]),_:1},8,["modelValue"])}}}),AddTable_vue_vue_type_style_index_0_scoped_dbdc7966_lang="",AddTableModal=_export_sfc(_sfc_main$9,[["__scopeId","data-v-dbdc7966"]]);function codeText2Property(text){const property=eval("const property = "+text+";property;");return Object.entries(property).forEach(([re,ne])=>{if(typeof ne=="function")ne===String?property[re]={type:"String"}:ne===Number?property[re]={type:"Number"}:ne===Date?property[re]={type:"Date"}:ne===Boolean&&(property[re]={type:"Boolean"});else{const oe={};ne.type===String?oe.type="String":ne.type===Number?oe.type="Number":ne.type===Date?(oe.type="Date",ne.default===Date.now&&(oe.default="Date.now")):ne.type===Boolean&&(oe.type="Boolean"),property[re]=Object.assign(ne,oe)}}),property}const property2codeText=(()=>{const re="#<#__QUOTE__#>#",ne="#<#__String__#>#";return function(oe){const ie={};Object.entries(oe).forEach(([le,se])=>{if(Object.keys(se).length===1){ie[le]=se.type;return}const ce={};se.type==="String"&&se.default!=null?ce.default=ne+se.default.replace(/"/g,re)+ne:se.type==="Date"&&(ce.min=se.min?ne+se.min+ne:void 0,ce.max=se.max?ne+se.max+ne:void 0),ie[le]=Object.assign({},se,ce)});let ae=JSON.stringify(ie,null,4);return ae=ae.replace(/"/g,""),ae=ae.replace(new RegExp(re,"g"),'\\"'),ae=ae.replace(new RegExp(ne,"g"),'"'),ae}})(),_hoisted_1$4={class:"h-full flex flex-col"},_hoisted_2$4=Vue.createElementVNode("span",{class:"mr-2 text-sm"},"模块:",-1),_hoisted_3$3={class:"flex-1 h-0"},_hoisted_4$1={key:0,class:"color-red"},_hoisted_5$1={key:1,class:"color-green"},_sfc_main$8=Vue.defineComponent({__name:"SideList",emits:["editProperty"],setup(re,{expose:ne,emit:oe}){const ie=Vue.inject("setLoading"),ae=Vue.ref([]),le=Vue.ref(),se=Vue.reactive([]),ce=Vue.computed(()=>{const ke=new Set(ae.value.map(xe=>xe.module));return Array.from(ke)}),de=Vue.computed(()=>le.value?ae.value.filter(ke=>ke.module===le.value):ae.value),pe=Vue.ref(),he=Vue.ref(),ue=Vue.reactive({body:{options:[[{code:"add",name:"新建表"},{code:"remove",name:"删除当前表"}]]},visibleMethod:({options:ke,row:xe})=>(ke[0][1].visible=xe!=null,!0)}),fe=({$table:ke,menu:xe,row:Te})=>{switch(xe.code){case"add":he.value.open();break;case"remove":const me=ae.value.findIndex(ve=>ve.module===Te.module&&ve.table===Te.table);ie(!0),Ce(Te).then(()=>{ae.value.splice(me,1),Te===ke.getCurrentRecord()&&oe("editProperty")}).catch(ve=>VXETable.VXETable.modal.message({content:ve.message,status:"error"})).finally(()=>ie(!1));break}},_e=({newValue:ke,oldValue:xe,$table:Te})=>{const me=ae.value.find(ve=>ve.module===ke.module&&ve.table===ke.table);oe("editProperty",me,()=>Te.setCurrentRow(xe))};async function ge(){oe("editProperty"),ie(!0);try{const ke=await modelService.all();ae.value=ke.map(({_id:xe,module:Te,name:me,table:ve,property:Ve})=>({_id:xe,module:Te,model:me,table:ve,property:codeText2Property(Ve)}))}catch(ke){window.process.env.VUE_APP_ENV!=="production"&&console.error(ke),ElementPlus.ElMessage({message:"获取模型数据失败!",type:"error"})}finally{ie(!1)}}function be(ke){ae.value.push({property:{},...ke})}async function we(ke){return await modelService.save({module:ke.module,name:ke.model,table:ke.table,property:property2codeText(ke.property)})}async function Ce(ke){ke._id&&await modelService.remove(ke._id)}async function Re(ke){const{tableData:xe}=pe.value.getTableData(),Te=xe.find(me=>me.module===ke.module&&me.table===ke.table);Te&&!se.includes(Te)&&se.push(Te);try{const{_id:me}=await we(ke);Te&&(Te._id=me,Te.property=ke.property,se.splice(se.indexOf(Te),1))}catch{VXETable.VXETable.modal.message({content:"保存失败!",status:"error"})}}return ne({saveTable:Re}),ge(),(ke,xe)=>{const Te=Vue.resolveComponent("VxeOption"),me=Vue.resolveComponent("VxeSelect"),ve=Vue.resolveComponent("VxeButton"),Ve=Vue.resolveComponent("VxeToolbar"),Ae=Vue.resolveComponent("VxeColumn"),Be=Vue.resolveComponent("VxeTable");return Vue.openBlock(),Vue.createElementBlock("div",_hoisted_1$4,[Vue.createElementVNode("div",null,[Vue.createVNode(Ve,{size:"mini"},{buttons:Vue.withCtx(()=>[_hoisted_2$4,Vue.createVNode(me,{"class-name":"flex-1 ml-1",modelValue:Vue.unref(le),"onUpdate:modelValue":xe[0]||(xe[0]=Me=>Vue.isRef(le)?le.value=Me:null),placeholder:"所有",clearable:""},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(ce),Me=>(Vue.openBlock(),Vue.createBlock(Te,{key:Me,value:Me,label:Me},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),Vue.createVNode(ve,{class:"ml-2",icon:"vxe-icon-refresh",title:"刷新",circle:"",onClick:ge})]),_:1})]),Vue.createElementVNode("div",_hoisted_3$3,[Vue.createVNode(Be,{ref_key:"tableRef",ref:pe,height:"auto",size:"mini","row-config":{isCurrent:!0,isHover:!0},"show-header":!1,data:Vue.unref(de),"menu-config":Vue.unref(ue),onCurrentChange:_e,onMenuClick:fe},{default:Vue.withCtx(()=>[Vue.createVNode(Ae,{"class-name":"hover:cursor-pointer"},{default:Vue.withCtx(({row:Me})=>[Vue.createElementVNode("span",null,Vue.toDisplayString(`[${Me.module}] ${Me.table} : ${Me.model}`),1),Vue.unref(se).includes(Me)?(Vue.openBlock(),Vue.createElementBlock("span",_hoisted_4$1,"（同步中）")):Vue.createCommentVNode("",!0),!Vue.unref(se).includes(Me)&&!Me._id?(Vue.openBlock(),Vue.createElementBlock("span",_hoisted_5$1,"（新建）")):Vue.createCommentVNode("",!0)]),_:1})]),_:1},8,["data","menu-config"])]),Vue.createVNode(AddTableModal,{ref_key:"addModal",ref:he,modules:Vue.unref(ce),onConfirm:be},null,8,["modules"])])}}}),_hoisted_1$3={key:0},_hoisted_2$3={class:"h-28px inline-block px-10px box-border b-1 b-#dcdfe6 b-solid rounded vertical-bottom"},_hoisted_3$2=Vue.createElementVNode("span",{class:"m2"},"~",-1),_hoisted_4={key:1},_hoisted_5=Vue.createElementVNode("span",{class:"m2"},"~",-1),_hoisted_6={key:2},_hoisted_7=Vue.createElementVNode("span",{class:"m2"},"~",-1),_hoisted_8={key:3},_sfc_main$7=Vue.defineComponent({__name:"OperateAndLimit",props:{row:{},tableRef:{}},setup(re){const ne=re,{row:oe,tableRef:ie}=Vue.toRefs(ne);function ae({$event:le}){var ge;let se="";const{lowercase:ce,uppercase:de,trim:pe,minlength:he,maxlength:ue,min:fe,max:_e}=oe.value;ce&&(se+=`lowercase:${ce};`),de&&(se+=`uppercase:${de};`),pe&&(se+=`trim:${pe};`),he!==void 0&&(se+=`minlength:${he};`),ue!==void 0&&(se+=`maxlength:${ue};`),fe!==void 0&&(se+=`min:${fe};`),_e!==void 0&&(se+=`max:${_e};`),oe.value.operateAndLimit=se,le&&((ge=ie==null?void 0:ie.value)==null||ge.clearEdit(le))}return(le,se)=>{const ce=Vue.resolveComponent("VxeCheckbox"),de=Vue.resolveComponent("VxeInput");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.unref(oe).type==="String"?(Vue.openBlock(),Vue.createElementBlock("div",_hoisted_1$3,[Vue.createElementVNode("span",_hoisted_2$3,[Vue.createVNode(ce,{modelValue:Vue.unref(oe).lowercase,"onUpdate:modelValue":se[0]||(se[0]=pe=>Vue.unref(oe).lowercase=pe),onChange:ae},{default:Vue.withCtx(()=>[Vue.createTextVNode("lowercase")]),_:1},8,["modelValue"]),Vue.createVNode(ce,{modelValue:Vue.unref(oe).uppercase,"onUpdate:modelValue":se[1]||(se[1]=pe=>Vue.unref(oe).uppercase=pe),onChange:ae},{default:Vue.withCtx(()=>[Vue.createTextVNode("uppercase")]),_:1},8,["modelValue"]),Vue.createVNode(ce,{modelValue:Vue.unref(oe).trim,"onUpdate:modelValue":se[2]||(se[2]=pe=>Vue.unref(oe).trim=pe),onChange:ae},{default:Vue.withCtx(()=>[Vue.createTextVNode("trim")]),_:1},8,["modelValue"])]),Vue.createElementVNode("span",null,[Vue.createVNode(de,{"class-name":"w-100px! inline-block! ml-2",type:"number",modelValue:Vue.unref(oe).minlength,"onUpdate:modelValue":se[3]||(se[3]=pe=>Vue.unref(oe).minlength=pe),max:Vue.unref(oe).maxlength,placeholder:"最短长度",onChange:ae,onBlur:se[4]||(se[4]=()=>ae({}))},null,8,["modelValue","max"]),_hoisted_3$2,Vue.createVNode(de,{"class-name":"w-100px! inline-block!",type:"number",modelValue:Vue.unref(oe).maxlength,"onUpdate:modelValue":se[5]||(se[5]=pe=>Vue.unref(oe).maxlength=pe),min:Vue.unref(oe).minlength,placeholder:"最长长度",onChange:ae,onBlur:se[6]||(se[6]=()=>ae({}))},null,8,["modelValue","min"])])])):Vue.createCommentVNode("",!0),Vue.unref(oe).type==="Number"?(Vue.openBlock(),Vue.createElementBlock("div",_hoisted_4,[Vue.createVNode(de,{"class-name":"w-222px! inline-block!",type:"number",modelValue:Vue.unref(oe).min,"onUpdate:modelValue":se[7]||(se[7]=pe=>Vue.unref(oe).min=pe),max:Vue.unref(oe).max,placeholder:"最小值",onChange:ae,onBlur:se[8]||(se[8]=()=>ae({}))},null,8,["modelValue","max"]),_hoisted_5,Vue.createVNode(de,{"class-name":"w-222px! inline-block!",type:"number",modelValue:Vue.unref(oe).max,"onUpdate:modelValue":se[9]||(se[9]=pe=>Vue.unref(oe).max=pe),min:Vue.unref(oe).min,placeholder:"最大值",onChange:ae,onBlur:se[10]||(se[10]=()=>ae({}))},null,8,["modelValue","min"])])):Vue.createCommentVNode("",!0),Vue.unref(oe).type==="Date"?(Vue.openBlock(),Vue.createElementBlock("div",_hoisted_6,[Vue.createVNode(de,{"class-name":"w-222px! inline-block!",type:"datetime",modelValue:Vue.unref(oe).min,"onUpdate:modelValue":se[11]||(se[11]=pe=>Vue.unref(oe).min=pe),"disabled-method":({date:pe})=>Vue.unref(oe).max?pe.getTime()>=new Date(Vue.unref(oe).max).getTime():!1,placeholder:"最早时间",onChange:ae,"value-format":"yyyy-MM-ddTHH:mm:ss.sssZ"},null,8,["modelValue","disabled-method"]),_hoisted_7,Vue.createVNode(de,{"class-name":"w-222px! inline-block!",type:"datetime",modelValue:Vue.unref(oe).max,"onUpdate:modelValue":se[12]||(se[12]=pe=>Vue.unref(oe).max=pe),"disabled-method":({date:pe})=>Vue.unref(oe).min?pe.getTime()<=new Date(Vue.unref(oe).min).getTime():!1,placeholder:"最晚时间",onChange:ae,"value-format":"yyyy-MM-ddTHH:mm:ss.sssZ"},null,8,["modelValue","disabled-method"])])):Vue.createCommentVNode("",!0),Vue.unref(oe).type==="Boolean"?(Vue.openBlock(),Vue.createElementBlock("span",_hoisted_8,"-")):Vue.createCommentVNode("",!0)])}}}),_sfc_main$6=Vue.defineComponent({__name:"TypeSelect",props:{row:{}},emits:["change"],setup(re,{emit:ne}){const oe=re,{row:ie}=Vue.toRefs(oe),ae=["String","Number","Date","Boolean"];return(le,se)=>{const ce=Vue.resolveComponent("VxeOption"),de=Vue.resolveComponent("VxeSelect");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createVNode(de,{modelValue:Vue.unref(ie).type,"onUpdate:modelValue":se[0]||(se[0]=pe=>Vue.unref(ie).type=pe),onChange:se[1]||(se[1]=({value:pe,$event:he})=>ne("change",{value:pe,$event:he}))},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(ae,pe=>Vue.createVNode(ce,{key:pe,value:pe,label:pe},null,8,["value","label"])),64))]),_:1},8,["modelValue"])])}}}),_sfc_main$5=Vue.defineComponent({__name:"Default",props:{row:{},tableRef:{}},setup(re){const ne=re,{row:oe}=Vue.toRefs(ne);return(ie,ae)=>{const le=Vue.resolveComponent("VxeInput"),se=Vue.resolveComponent("VxeOption"),ce=Vue.resolveComponent("VxeSelect");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.unref(oe).type==="String"?(Vue.openBlock(),Vue.createBlock(le,{key:0,modelValue:Vue.unref(oe).default,"onUpdate:modelValue":ae[0]||(ae[0]=de=>Vue.unref(oe).default=de)},null,8,["modelValue"])):Vue.createCommentVNode("",!0),Vue.unref(oe).type==="Number"?(Vue.openBlock(),Vue.createBlock(le,{key:1,type:"number",modelValue:Vue.unref(oe).default,"onUpdate:modelValue":ae[1]||(ae[1]=de=>Vue.unref(oe).default=de),onChange:ae[2]||(ae[2]=({$event:de})=>{var pe;return(pe=ie.tableRef)==null?void 0:pe.clearEdit(de)})},null,8,["modelValue"])):Vue.createCommentVNode("",!0),Vue.unref(oe).type==="Date"?(Vue.openBlock(),Vue.createBlock(ce,{key:2,modelValue:Vue.unref(oe).default,"onUpdate:modelValue":ae[3]||(ae[3]=de=>Vue.unref(oe).default=de),clearable:"",onChange:ae[4]||(ae[4]=({$event:de})=>{var pe;return(pe=ie.tableRef)==null?void 0:pe.clearEdit(de)})},{default:Vue.withCtx(()=>[Vue.createVNode(se,{value:"Date.now",label:"Date.now"})]),_:1},8,["modelValue"])):Vue.createCommentVNode("",!0),Vue.unref(oe).type==="Boolean"?(Vue.openBlock(),Vue.createBlock(ce,{key:3,modelValue:Vue.unref(oe).default,"onUpdate:modelValue":ae[5]||(ae[5]=de=>Vue.unref(oe).default=de),clearable:"",onChange:ae[6]||(ae[6]=({$event:de})=>{var pe;return(pe=ie.tableRef)==null?void 0:pe.clearEdit(de)})},{default:Vue.withCtx(()=>[Vue.createVNode(se,{value:!1,label:"否"}),Vue.createVNode(se,{value:!0,label:"是"})]),_:1},8,["modelValue"])):Vue.createCommentVNode("",!0)])}}}),_sfc_main$4=Vue.defineComponent({__name:"Preview",props:Vue.mergeModels({text:{},title:{}},{modelValue:{type:Boolean,required:!0}}),emits:["update:modelValue"],setup(re){const ne=re,oe=Vue.useModel(re,"modelValue"),ie=Vue.ref("");return Vue.watchEffect(()=>{ie.value=ne.text}),(ae,le)=>{const se=Vue.resolveComponent("VxeTextarea"),ce=Vue.resolveComponent("VxeModal");return Vue.openBlock(),Vue.createBlock(ce,{"class-name":"preview-modal",modelValue:oe.value,"onUpdate:modelValue":le[1]||(le[1]=de=>oe.value=de),width:"50vw",height:"80vh",title:ae.title||"弹窗","show-footer":"","show-zoom":""},{default:Vue.withCtx(()=>[Vue.createVNode(se,{modelValue:ie.value,"onUpdate:modelValue":le[0]||(le[0]=de=>ie.value=de),readonly:"",resize:"none"},null,8,["modelValue"])]),_:1},8,["modelValue","title"])}}}),Preview_vue_vue_type_style_index_0_lang="",Preview_vue_vue_type_style_index_1_scoped_d38f7fae_lang="",Preview=_export_sfc(_sfc_main$4,[["__scopeId","data-v-d38f7fae"]]),_hoisted_1$2={class:"h-full flex flex-col"},_hoisted_2$2={class:"flex-1 h-0"},_sfc_main$3=Vue.defineComponent({__name:"MainTable",props:{modelValue:{}},emits:Vue.mergeModels(["saveProperty"],["update:modelValue"]),setup(re,{expose:ne,emit:oe}){const ie=Vue.useModel(re,"modelValue"),ae=Vue.ref([]),le=Vue.ref(!1),se=Vue.ref(),ce=Vue.ref(),de=Vue.ref(!1),pe=Vue.ref(""),he=Vue.ref({name:[{required:!0,validator:({$table:ve,cellValue:Ve,rowIndex:Ae})=>{if(!Ve)return new Error("名称必须填写");if(!/^[a-zA-Z][a-zA-Z0-9_]*$/.test(Ve))return new Error("必须以字母开头且只包含字母、数字、下划线");const{tableData:Be}=ve.getTableData();for(let Me=0;Me<Ae;++Me)if(Be[Me].name===Ve)return new Error("不能存在相同的名称")}}]});Vue.watchEffect(()=>{ie.value?ae.value=Object.entries(ie.value).map(([ve,Ve])=>({name:ve,operateAndLimit:me(Ve),...Ve})):ae.value=[],le.value=!1});const ue=Vue.reactive({body:{options:[[{code:"add",name:"添加一行"},{code:"remove",name:"删除当前行"},{code:"remove-checked",name:"删除选择行"}],[{code:"copy",name:"复制当前行"},{code:"copy-checked",name:"复制选择行"},{code:"paste",name:"粘贴"}]]},visibleMethod:({options:ve,row:Ve})=>{if(!ie.value)return!1;const Ae=se.value;if(!Ae||!Ve)ve[0][1].visible=!1,ve[0][2].visible=!1,ve[1][0].visible=!1,ve[1][1].visible=!1;else if(Ve){ve[0][1].visible=!0,ve[1][0].visible=!0;const Be=Ae.isCheckedByCheckboxRow(Ve);ve[0][2].visible=Be,ve[1][1].visible=Be}return navigator.clipboard.readText().then(Be=>ve[1][2].visible=Be.startsWith("#VXETable#")),!0}}),fe=({$table:ve,menu:Ve,row:Ae})=>{switch(Ve.code){case"add":we();break;case"remove":ve.remove(Ae),Te();break;case"remove-checked":ve.removeCheckboxRow(),Te();break;case"copy":Re([Ae]);break;case"copy-checked":Re(ve.getCheckboxRecords());break;case"paste":ke();break}},_e=()=>{Te()};function ge(){const ve=se.value;ve&&(ve.revertData(),le.value=!1)}async function be(ve){const Ve=se.value;if(Ve&&ie.value&&!await Ve.validate(!0)){const Be=ve??Ve.getTableData().fullData,Me={};return Be.forEach(Se=>{const $e={type:Se.type};Se.required&&($e.required=Se.required),Se.unique&&($e.unique=Se.unique),Se.default!=null&&($e.default=Se.default),Se.type==="String"?(Se.lowercase&&($e.lowercase=Se.lowercase),Se.uppercase&&($e.uppercase=Se.uppercase),Se.trim&&($e.trim=Se.trim),Se.minlength!==void 0&&($e.minlength=Se.minlength),Se.maxlength!==void 0&&($e.maxlength=Se.maxlength)):(Se.type==="Number"||Se.type==="Date")&&(Se.min!==void 0&&($e.min=Se.min),Se.max!==void 0&&($e.max=Se.max)),Me[Se.name]=Object.assign({},$e)}),oe("saveProperty",ie.value=Me),!0}return!1}function we(ve){const Ve=se.value;Ve&&(ve?(Ve.insertAt(ve,-1),le.value=ve.length>0):(Ve.insertAt({type:"String"},-1),le.value=!0))}async function Ce(){const ve=se.value;if(ve){const Ve=ve.getCheckboxRecords();if(!Ve||Ve.length<1){VXETable.VXETable.modal.message({content:"请选择至少一行数据",status:"warning"});return}await VXETable.VXETable.modal.confirm("您确定要删除已选择的行吗？")==="confirm"&&(ve.removeCheckboxRow(),Te())}}function Re(ve){const Ve=JSON.stringify(ve.map(Ae=>Object.assign({},Ae,{_X_ROW_KEY:void 0})));navigator.clipboard.writeText("#VXETable#"+Ve)}function ke(){navigator.clipboard.readText().then(ve=>we(JSON.parse(ve.replace("#VXETable#",""))))}function xe(){ie.value&&(pe.value=property2codeText(ie.value),de.value=!0)}function Te(){const ve=se.value;if(ve){const{insertRecords:Ve,removeRecords:Ae,updateRecords:Be}=ve.getRecordset();le.value=Ve.length>0||Ae.length>0||Be.length>0}}function me({lowercase:ve,uppercase:Ve,trim:Ae,minlength:Be,maxlength:Me,min:Se,max:$e}){let Le="";return ve&&(Le+=`lowercase:${ve};`),Ve&&(Le+=`uppercase:${Ve};`),Ae&&(Le+=`trim:${Ae};`),Be!==void 0&&(Le+=`minlength:${Be};`),Me!==void 0&&(Le+=`maxlength:${Me};`),Se!==void 0&&(Le+=`min:${Se};`),$e!==void 0&&(Le+=`max:${$e};`),Le}return Vue.nextTick(()=>{const ve=se.value,Ve=ce.value;ve&&Ve&&ve.connect(Ve)}),ne({checkSave:async()=>le.value&&await VXETable.VXETable.modal.confirm("当前操作表未保存，是否保存?")==="confirm"?await be():!0}),(ve,Ve)=>{const Ae=Vue.resolveComponent("VxeButton"),Be=Vue.resolveComponent("VxeToolbar"),Me=Vue.resolveComponent("VxeColumn"),Se=Vue.resolveComponent("VxeInput"),$e=Vue.resolveComponent("VxeCheckbox"),Le=Vue.resolveComponent("VxeTable");return Vue.openBlock(),Vue.createElementBlock("div",_hoisted_1$2,[Vue.createElementVNode("div",null,[Vue.createVNode(Be,{ref_key:"toolbarRef",ref:ce,custom:"",size:"mini"},{buttons:Vue.withCtx(()=>[Vue.createVNode(Ae,{status:"primary",icon:"vxe-icon-add",content:"添加一行",disabled:ie.value==null,onClick:Ve[0]||(Ve[0]=()=>we())},null,8,["disabled"]),Vue.createVNode(Ae,{status:"danger",icon:"vxe-icon-delete",content:"删除",disabled:ie.value==null,onClick:Ce},null,8,["disabled"]),Vue.unref(le)?(Vue.openBlock(),Vue.createBlock(Ae,{key:0,status:"primary",icon:"vxe-icon-save",content:"保存",onClick:Ve[1]||(Ve[1]=()=>be())})):Vue.createCommentVNode("",!0)]),tools:Vue.withCtx(()=>[Vue.unref(le)?(Vue.openBlock(),Vue.createBlock(Ae,{key:0,icon:"vxe-icon-repeat",title:"重置",circle:"",onClick:ge})):Vue.createCommentVNode("",!0),!Vue.unref(le)&&ie.value&&Object.keys(ie.value).length>0?(Vue.openBlock(),Vue.createBlock(Ae,{key:1,icon:"vxe-icon-eye-fill",title:"预览",circle:"",onClick:xe})):Vue.createCommentVNode("",!0)]),_:1},512)]),Vue.createElementVNode("div",_hoisted_2$2,[Vue.createVNode(Le,{class:"field_list",ref_key:"tableRef",ref:se,data:Vue.unref(ae),"keep-source":"","edit-config":{trigger:"click"},"edit-rules":Vue.unref(he),"row-config":{isHover:!0},"checkbox-config":{highlight:!0,range:!0,isShiftKey:!0},"menu-config":Vue.unref(ue),height:"auto",size:"mini",align:"center",onEditClosed:_e,onMenuClick:fe},{default:Vue.withCtx(()=>[Vue.createVNode(Me,{type:"checkbox",width:"40"}),Vue.createVNode(Me,{type:"seq",width:"40"}),Vue.createVNode(Me,{field:"name",title:"名称","min-width":"150","edit-render":{}},{default:Vue.withCtx(({row:Ne})=>[Vue.createVNode(Se,{modelValue:Ne.name,"onUpdate:modelValue":ye=>Ne.name=ye},null,8,["modelValue","onUpdate:modelValue"])]),edit:Vue.withCtx(({row:Ne})=>[Vue.createVNode(Se,{modelValue:Ne.name,"onUpdate:modelValue":ye=>Ne.name=ye},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),Vue.createVNode(Me,{field:"type",title:"类型",width:"150","edit-render":{}},{default:Vue.withCtx(({row:Ne})=>[Vue.createVNode(_sfc_main$6,{row:Ne},null,8,["row"])]),edit:Vue.withCtx(({row:Ne})=>[Vue.createVNode(_sfc_main$6,{row:Ne,onChange:Ve[2]||(Ve[2]=({$event:ye})=>{var Oe;return(Oe=Vue.unref(se))==null?void 0:Oe.clearEdit(ye)})},null,8,["row"])]),_:1}),Vue.createVNode(Me,{field:"operateAndLimit",title:"操作 / 限制",width:"500","edit-render":{}},{default:Vue.withCtx(({row:Ne})=>[Vue.createVNode(_sfc_main$7,{row:Ne,"table-ref":Vue.unref(se)},null,8,["row","table-ref"])]),edit:Vue.withCtx(({row:Ne})=>[Vue.createVNode(_sfc_main$7,{row:Ne,"table-ref":Vue.unref(se)},null,8,["row","table-ref"])]),_:1}),Vue.createVNode(Me,{field:"default",title:"默认值","min-width":"200","edit-render":{}},{default:Vue.withCtx(({row:Ne})=>[Vue.createVNode(_sfc_main$5,{row:Ne,"table-ref":Vue.unref(se)},null,8,["row","table-ref"])]),edit:Vue.withCtx(({row:Ne})=>[Vue.createVNode(_sfc_main$5,{row:Ne,"table-ref":Vue.unref(se)},null,8,["row","table-ref"])]),_:1}),Vue.createVNode(Me,{field:"required",title:"非空",width:"60","edit-render":{}},{default:Vue.withCtx(({row:Ne})=>[Vue.createVNode($e,{modelValue:Ne.required,"onUpdate:modelValue":ye=>Ne.required=ye},null,8,["modelValue","onUpdate:modelValue"])]),edit:Vue.withCtx(({row:Ne})=>[Vue.createVNode($e,{modelValue:Ne.required,"onUpdate:modelValue":ye=>Ne.required=ye},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),Vue.createVNode(Me,{field:"unique",title:"唯一",width:"60","edit-render":{}},{default:Vue.withCtx(({row:Ne})=>[Vue.createVNode($e,{modelValue:Ne.unique,"onUpdate:modelValue":ye=>Ne.unique=ye},null,8,["modelValue","onUpdate:modelValue"])]),edit:Vue.withCtx(({row:Ne})=>[Vue.createVNode($e,{modelValue:Ne.unique,"onUpdate:modelValue":ye=>Ne.unique=ye},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data","edit-rules","menu-config"])]),Vue.createVNode(Preview,{modelValue:Vue.unref(de),"onUpdate:modelValue":Ve[3]||(Ve[3]=Ne=>Vue.isRef(de)?de.value=Ne:null),text:Vue.unref(pe),title:"预览"},null,8,["modelValue","text"])])}}}),MainTable_vue_vue_type_style_index_0_scoped_d327f9de_lang="",MainTable=_export_sfc(_sfc_main$3,[["__scopeId","data-v-d327f9de"]]),_hoisted_1$1={class:"h-full flex gap-1 p2 box-border"},_hoisted_2$1={class:"w-16% min-w-250px"},_hoisted_3$1={class:"flex-1"},_sfc_main$2=Vue.defineComponent({__name:"MoModel",setup(re){const ne=Vue.ref(),oe=Vue.ref(),ie=Vue.ref(),ae=Vue.computed({get:()=>{var pe;return(pe=ie.value)==null?void 0:pe.property},set:pe=>ie.value&&pe&&(ie.value.property=pe)}),le=Vue.ref(!1);function se(pe){le.value=pe}async function ce(pe,he){const ue=oe.value;ue&&(await ue.checkSave()?ie.value=pe:he&&he())}async function de(pe){ie.value&&ne.value&&(ie.value.property=pe,ne.value.saveTable(ie.value))}return Vue.provide("setLoading",se),(pe,he)=>{const ue=Vue.resolveDirective("loading");return Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",_hoisted_1$1,[Vue.createElementVNode("div",_hoisted_2$1,[Vue.createVNode(_sfc_main$8,{ref_key:"sideListRef",ref:ne,onEditProperty:ce},null,512)]),Vue.createElementVNode("div",_hoisted_3$1,[Vue.createVNode(MainTable,{ref_key:"mainTableRef",ref:oe,modelValue:Vue.unref(ae),"onUpdate:modelValue":he[0]||(he[0]=fe=>Vue.isRef(ae)?ae.value=fe:null),onSaveProperty:de},null,8,["modelValue"])])])),[[ue,Vue.unref(le)]])}}}),_hoisted_1={class:"h-full flex justify-center"},_hoisted_2={class:"flex items-center justify-between"},_hoisted_3=Vue.createElementVNode("span",null,"系统配置",-1),_sfc_main$1=Vue.defineComponent({__name:"MoSetting",setup(re){const ne=Vue.ref(),oe=Vue.reactive({username:"",password:""}),ie={username:[{required:!0,message:"请输入用户名",trigger:"none"}],password:[{required:!0,message:"请输入密码",trigger:"none"}]},ae=()=>{var le;(le=ne.value)==null||le.validate(se=>{se&&systemService.chsetting({...oe}).then(()=>{ElementPlus.ElMessage({message:"保存成功!",type:"success"})}).catch(ce=>{window.process.env.VUE_APP_ENV!=="production"&&console.error(ce),ElementPlus.ElMessage({message:"保存失败！",type:"error"})})})};return(le,se)=>{const ce=Vue.resolveComponent("el-button"),de=Vue.resolveComponent("el-input"),pe=Vue.resolveComponent("el-form-item"),he=Vue.resolveComponent("el-form"),ue=Vue.resolveComponent("el-card");return Vue.openBlock(),Vue.createElementBlock("div",_hoisted_1,[Vue.createVNode(ue,{class:"min-w-210 w-3/5"},{header:Vue.withCtx(()=>[Vue.createElementVNode("div",_hoisted_2,[_hoisted_3,Vue.createVNode(ce,{type:"primary",onClick:ae},{default:Vue.withCtx(()=>[Vue.createTextVNode("保存")]),_:1})])]),default:Vue.withCtx(()=>[Vue.createVNode(he,{model:Vue.unref(oe),ref_key:"formComponent",ref:ne,rules:ie,"label-width":"110px"},{default:Vue.withCtx(()=>[Vue.createVNode(pe,{label:"用户名",prop:"username"},{default:Vue.withCtx(()=>[Vue.createVNode(de,{modelValue:Vue.unref(oe).username,"onUpdate:modelValue":se[0]||(se[0]=fe=>Vue.unref(oe).username=fe),placeholder:"admin"},null,8,["modelValue"])]),_:1}),Vue.createVNode(pe,{label:"密码",prop:"password"},{default:Vue.withCtx(()=>[Vue.createVNode(de,{modelValue:Vue.unref(oe).password,"onUpdate:modelValue":se[1]||(se[1]=fe=>Vue.unref(oe).password=fe),type:"password",placeholder:"******","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})])}}}),_sfc_main=Vue.defineComponent({__name:"MoDashboard",setup(re){const ne=[{_id:"api",title:"API管理",component:_sfc_main$a},{_id:"model",title:"模型管理",component:_sfc_main$2},{_id:"setting",title:"系统设置",component:_sfc_main$1}];return(oe,ie)=>{const ae=Vue.resolveComponent("el-header"),le=Vue.resolveComponent("el-divider"),se=Vue.resolveComponent("el-scrollbar"),ce=Vue.resolveComponent("el-tab-pane"),de=Vue.resolveComponent("el-tabs"),pe=Vue.resolveComponent("el-main"),he=Vue.resolveComponent("el-container");return Vue.openBlock(),Vue.createBlock(he,{class:"h-screen"},{default:Vue.withCtx(()=>[Vue.createVNode(ae,{class:"p0",height:"50px"},{default:Vue.withCtx(()=>[Vue.createVNode(MoNavbar)]),_:1}),Vue.createVNode(le,{class:"m0"}),Vue.createVNode(pe,{class:"p0 overflow-hidden"},{default:Vue.withCtx(()=>[Vue.createVNode(de,{class:"mo-dashboard__tabs","model-value":ne[0]._id,type:"border-card"},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(ne,ue=>Vue.createVNode(ce,{key:ue._id,name:ue._id,label:ue.title,lazy:""},{default:Vue.withCtx(()=>[Vue.createVNode(se,{class:"mo-dashboard__scrollbar"},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(ue.component),{params:ue.params},null,8,["params"]))]),_:2},1024)]),_:2},1032,["name","label"])),64))]),_:1},8,["model-value"])]),_:1})]),_:1})}}}),MoDashboard_vue_vue_type_style_index_0_scoped_c74c6a56_lang="",MoDashboard=_export_sfc(_sfc_main,[["__scopeId","data-v-c74c6a56"]]);export{MoDashboard as default};
