(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const e of o)if(e.type==="childList")for(const a of e.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const e={};return o.integrity&&(e.integrity=o.integrity),o.referrerPolicy&&(e.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?e.credentials="include":o.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(o){if(o.ep)return;o.ep=!0;const e=s(o);fetch(o.href,e)}})();const _="modulepreload",g=function(n,t){return new URL(n,t).href},p={},u=function(t,s,r){if(!s||s.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(s.map(e=>{if(e=g(e,r),e in p)return;p[e]=!0;const a=e.endsWith(".css"),h=a?'[rel="stylesheet"]':"";if(!!r)for(let c=o.length-1;c>=0;c--){const l=o[c];if(l.href===e&&(!a||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${h}`))return;const i=document.createElement("link");if(i.rel=a?"stylesheet":_,a||(i.as="script",i.crossOrigin=""),i.href=e,document.head.appendChild(i),a)return new Promise((c,l)=>{i.addEventListener("load",c),i.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>t()).catch(e=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e})};(async()=>{var s,r;const n=((r=(s=document.getElementById("version"))==null?void 0:s.textContent)==null?void 0:r.trim())||"0.0.0",t=await localforage.getItem("version")||"0.0.0";n!==t&&(await localforage.clear(),await localforage.setItem("version",n))})();const m={set:async(n,t)=>localforage.setItem(n,t),get:async n=>localforage.getItem(n),getWithURL:async(n,t,s="text")=>{let r=await localforage.getItem(n);return r===null&&(r=await(await fetch(t))[s](),await localforage.setItem(n,r)),r},remove:async n=>localforage.removeItem(n)},d=Vue.reactive({screenWidth:window.screen.width,theme:"light"});window.onresize=()=>{d.screenWidth=window.screen.width};Vue.watch(()=>d.theme,(n,t)=>{const s=document.querySelector("html");s&&(s.classList.remove(t),s.classList.add(n),m.set("mo-theme",n))});const v=Vue.defineComponent({__name:"App",setup(n){const t=Vue.ref(null);async function s(r){r instanceof Promise?t.value=Vue.markRaw((await r).default):t.value=r}return Vue.provide("changePage",s),(async()=>{window.process??(window.process={env:{VUE_APP_ENV:"production"}}),await m.get("mo-theme")==="dark"&&(d.theme="dark");try{await m.get("token")?s(u(()=>import("./MoDashboard-14eaa14a.js"),["./MoDashboard-14eaa14a.js","./system-service-c3480278.js","./MoDashboard-1f395a48.css"],import.meta.url)):s(u(()=>import("./Login-859858d2.js"),["./Login-859858d2.js","./system-service-c3480278.js","./Login-78492ff7.css"],import.meta.url))}catch(r){window.process.env.VUE_APP_ENV!=="production"&&console.error(r),s(u(()=>import("./404-13749cd6.js"),[],import.meta.url))}})(),(r,o)=>(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(t))))}});const f=Vue.createApp(v);f.use(ElementPlus,{locale:ElementPlusLocaleZhCn});f.use(VXETable);f.mount("#app");export{u as _,m as a,d as s};
