(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const i of e.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function s(t){if(t.ep)return;t.ep=!0;const e=o(t);fetch(t.href,e)}})();const _="modulepreload",g=function(n,r){return new URL(n,r).href},p={},u=function(r,o,s){if(!o||o.length===0)return r();const t=document.getElementsByTagName("link");return Promise.all(o.map(e=>{if(e=g(e,s),e in p)return;p[e]=!0;const i=e.endsWith(".css"),h=i?'[rel="stylesheet"]':"";if(!!s)for(let a=t.length-1;a>=0;a--){const l=t[a];if(l.href===e&&(!i||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${h}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":_,i||(c.as="script",c.crossOrigin=""),c.href=e,document.head.appendChild(c),i)return new Promise((a,l)=>{c.addEventListener("load",a),c.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>r()).catch(e=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=e,window.dispatchEvent(i),!i.defaultPrevented)throw e})};(async()=>{var o,s;const n=((s=(o=document.getElementById("version"))==null?void 0:o.textContent)==null?void 0:s.trim())||"0.0.0",r=await localforage.getItem("version")||"0.0.0";n!==r&&(await localforage.clear(),await localforage.setItem("version",n))})();const m={set:async(n,r)=>localforage.setItem(n,r),get:async n=>localforage.getItem(n),remove:async n=>localforage.removeItem(n)},d=Vue.reactive({screenWidth:window.screen.width,theme:"light"});window.onresize=()=>{d.screenWidth=window.screen.width};Vue.watch(()=>d.theme,(n,r)=>{const o=document.querySelector("html");o&&(o.classList.remove(r),o.classList.add(n),m.set("mo-theme",n))});const v=Vue.defineComponent({__name:"App",setup(n){const r=Vue.ref(null);async function o(s){s instanceof Promise?r.value=Vue.markRaw((await s).default):r.value=s}return Vue.provide("changePage",o),(async()=>{window.process??(window.process={env:{VUE_APP_ENV:"production"}}),await m.get("mo-theme")==="dark"&&(d.theme="dark");try{await m.get("token")?o(u(()=>import("./MoDashboard-8a581c9e.js"),["./MoDashboard-8a581c9e.js","./system-service-7a5a0934.js","./MoDashboard-d41ed4a9.css"],import.meta.url)):o(u(()=>import("./Login-c5e69824.js"),["./Login-c5e69824.js","./system-service-7a5a0934.js","./Login-78492ff7.css"],import.meta.url))}catch(s){window.process.env.VUE_APP_ENV!=="production"&&console.error(s),o(u(()=>import("./404-02ec3a23.js"),[],import.meta.url))}})(),(s,t)=>(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(r))))}});const f=Vue.createApp(v);f.use(ElementPlus,{locale:ElementPlusLocaleZhCn});f.use(VXETable);f.mount("#app");export{u as _,m as a,d as s};
